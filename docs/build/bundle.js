/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t){return 0===Object.keys(t).length}function c(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e,n,r){if(t){const o=u(t,e,n,r);return t[0](o)}}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function f(t,e,n,r,o,i){if(o){const s=u(e,n,r,i);t.p(s,o)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}new Set;let h,p=!1;function m(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function $(){return x(" ")}function k(){return x("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function O(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function P(t,e,n){t.classList[n?"add":"remove"](e)}function T(t){h=t}function N(){if(!h)throw new Error("Function called outside component initialization");return h}function A(){const t=N();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function C(t){return N().$$.context.get(t)}new Set;const q=[],I=[],D=[],R=[],L=Promise.resolve();let M=!1;function z(t){D.push(t)}let W=!1;const F=new Set;function X(){if(!W){W=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];T(e),U(e.$$)}for(T(null),q.length=0;I.length;)I.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];F.has(e)||(F.add(e),e())}D.length=0}while(q.length);for(;R.length;)R.pop()();M=!1,W=!1,F.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const B=new Set;let H,Y;function K(){H={r:0,c:[],p:H}}function Q(){H.r||r(H.c),H=H.p}function G(t,e){t&&t.i&&(B.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),H.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function J(t,e){V(t,1,1,(()=>{e.delete(t.key)}))}function Z(t){t&&t.c()}function tt(t,n,i,s){const{fragment:c,on_mount:a,on_destroy:u,after_update:l}=t.$$;c&&c.m(n,i),s||z((()=>{const n=a.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(z)}function et(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(e,o,i,s,c,a,u,l=[-1]){const f=h;T(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:o.target||f.$$.root};u&&u(d.root);let m=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),m&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),M||(M=!0,L.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),o.target){if(o.hydrate){p=!0;const t=(y=o.target,Array.from(y.childNodes));d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();o.intro&&G(e.$$.fragment),tt(e,o.target,o.anchor,o.customElement),p=!1,X()}var y;T(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Y=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!s(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class rt{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!s(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,e,n){const r=t.slice();return r[13]=e[n],r}function it(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=ct(ot(t,r,e));const i=t=>V(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=k()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);y(t,e,r),n=!0},p(t,n){if(250&n){let s;for(r=t[1],s=0;s<r.length;s+=1){const i=ot(t,r,s);o[s]?(o[s].p(i,n),G(o[s],1)):(o[s]=ct(i),o[s].c(),G(o[s],1),o[s].m(e.parentNode,e))}for(K(),s=r.length;s<o.length;s+=1)i(s);Q()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)G(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)V(o[t]);n=!1},d(t){b(o,t),t&&v(e)}}}function st(t){let e,n;return e=new lt({props:{models:t[13].children,parent:t[4]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.models=t[13].children),16&n&&(r.parent=t[4]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function ct(t){let e,n,o,i,s,c,a,u,l,f,d,h=t[13].title+"",p=t[13].children?">":"",b=t[13].children&&t[3]===t[13]&&st(t);function w(){return t[8](t[13])}function k(){return t[9](t[13])}function _(){return t[10](t[13])}function S(...e){return t[11](t[13],...e)}return{c(){e=g("li"),n=g("div"),o=x(h),i=$(),s=g("div"),c=x(p),a=$(),b&&b.c(),u=$(),O(n,"class","tree-item-title svelte-536exw"),O(s,"class","tree-item-caret svelte-536exw"),O(e,"class","tree-item svelte-536exw")},m(t,r){y(t,e,r),m(e,n),m(n,o),m(e,i),m(e,s),m(s,c),m(e,a),b&&b.m(e,null),m(e,u),l=!0,f||(d=[j(e,"mouseover",w),j(e,"focus",k),j(e,"mouseleave",_),j(e,"click",S)],f=!0)},p(n,r){t=n,(!l||2&r)&&h!==(h=t[13].title+"")&&E(o,h),(!l||2&r)&&p!==(p=t[13].children?">":"")&&E(c,p),t[13].children&&t[3]===t[13]?b?(b.p(t,r),10&r&&G(b,1)):(b=st(t),b.c(),G(b,1),b.m(e,u)):b&&(K(),V(b,1,1,(()=>{b=null})),Q())},i(t){l||(G(b),l=!0)},o(t){V(b),l=!1},d(t){t&&v(e),b&&b.d(),f=!1,r(d)}}}function at(t){let e,n,r,o,i=t[1]&&t[1].length&&it(t);return{c(){e=g("ul"),i&&i.c(),O(e,"class",n="tree "+(t[0]||"")+" svelte-536exw"),O(e,"style",r=t[2]?`top: -5px; left: ${t[2].clientWidth-10}px`:"")},m(n,r){y(n,e,r),i&&i.m(e,null),t[12](e),o=!0},p(t,[s]){t[1]&&t[1].length?i?(i.p(t,s),2&s&&G(i,1)):(i=it(t),i.c(),G(i,1),i.m(e,null)):i&&(K(),V(i,1,1,(()=>{i=null})),Q()),(!o||1&s&&n!==(n="tree "+(t[0]||"")+" svelte-536exw"))&&O(e,"class",n),(!o||4&s&&r!==(r=t[2]?`top: -5px; left: ${t[2].clientWidth-10}px`:""))&&O(e,"style",r)},i(t){o||(G(i),o=!0)},o(t){V(i),o=!1},d(n){n&&v(e),i&&i.d(),t[12](null)}}}function ut(t,e,n){let r,o,{class:i=""}=e,{models:s}=e,{parent:c}=e;const a=t=>{n(3,r=t)},u=t=>{n(3,r=t)},l=(t,e)=>{t.onClick&&t.onClick(e)};return t.$$set=t=>{"class"in t&&n(0,i=t.class),"models"in t&&n(1,s=t.models),"parent"in t&&n(2,c=t.parent)},[i,s,c,r,o,a,u,l,t=>a(t),t=>a(t),t=>u(t),(t,e)=>l(t,e),function(t){I[t?"unshift":"push"]((()=>{o=t,n(4,o)}))}]}class lt extends rt{constructor(t){super(),nt(this,t,ut,at,i,{class:0,models:1,parent:2})}}const ft=lt;function dt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ht(t){return!!t&&!!t[Zt]}function pt(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===te}(t)||Array.isArray(t)||!!t[Jt]||!!t.constructor[Jt]||wt(t)||xt(t))}function mt(t,e,n){void 0===n&&(n=!1),0===yt(t)?(n?Object.keys:ee)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function yt(t){var e=t[Zt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:wt(t)?2:xt(t)?3:0}function vt(t,e){return 2===yt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function bt(t,e,n){var r=yt(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function gt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function wt(t){return Kt&&t instanceof Map}function xt(t){return Qt&&t instanceof Set}function $t(t){return t.o||t.t}function kt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ne(t);delete e[Zt];for(var n=ee(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function jt(t,e){return void 0===e&&(e=!1),Et(t)||ht(t)||!pt(t)||(yt(t)>1&&(t.set=t.add=t.clear=t.delete=Ot),Object.freeze(t),e&&mt(t,(function(t,e){return jt(e,!0)}),!0)),t}function Ot(){dt(2)}function Et(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function _t(t){var e=re[t];return e||dt(18,t),e}function St(){return Ht}function Pt(t,e){e&&(_t("Patches"),t.u=[],t.s=[],t.v=e)}function Tt(t){Nt(t),t.p.forEach(Ct),t.p=null}function Nt(t){t===Ht&&(Ht=t.l)}function At(t){return Ht={p:[],l:Ht,h:t,m:!0,_:0}}function Ct(t){var e=t[Zt];0===e.i||1===e.i?e.j():e.O=!0}function qt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||_t("ES5").S(e,t,r),r?(n[Zt].P&&(Tt(e),dt(4)),pt(t)&&(t=It(e,t),e.l||Rt(e,t)),e.u&&_t("Patches").M(n[Zt],t,e.u,e.s)):t=It(e,n,[]),Tt(e),e.u&&e.v(e.u,e.s),t!==Vt?t:void 0}function It(t,e,n){if(Et(e))return e;var r=e[Zt];if(!r)return mt(e,(function(o,i){return Dt(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Rt(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=kt(r.k):r.o;mt(3===r.i?new Set(o):o,(function(e,i){return Dt(t,r,o,e,i,n)})),Rt(t,o,!1),n&&t.u&&_t("Patches").R(r,n,t.u,t.s)}return r.o}function Dt(t,e,n,r,o,i){if(ht(o)){var s=It(t,o,i&&e&&3!==e.i&&!vt(e.D,r)?i.concat(r):void 0);if(bt(n,r,s),!ht(s))return;t.m=!1}if(pt(o)&&!Et(o)){if(!t.h.F&&t._<1)return;It(t,o),e&&e.A.l||Rt(t,o)}}function Rt(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&jt(e,n)}function Lt(t,e){var n=t[Zt];return(n?$t(n):t)[e]}function Mt(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function zt(t){t.P||(t.P=!0,t.l&&zt(t.l))}function Wt(t){t.o||(t.o=kt(t.t))}function Ft(t,e,n){var r=wt(e)?_t("MapSet").N(e,n):xt(e)?_t("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:St(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,i=oe;n&&(o=[r],i=ie);var s=Proxy.revocable(o,i),c=s.revoke,a=s.proxy;return r.k=a,r.j=c,a}(e,n):_t("ES5").J(e,n);return(n?n.A:St()).p.push(r),r}function Xt(t){return ht(t)||dt(22,t),function t(e){if(!pt(e))return e;var n,r=e[Zt],o=yt(e);if(r){if(!r.P&&(r.i<4||!_t("ES5").K(r)))return r.t;r.I=!0,n=Ut(e,o),r.I=!1}else n=Ut(e,o);return mt(n,(function(e,o){r&&function(t,e){return 2===yt(t)?t.get(e):t[e]}(r.t,e)===o||bt(n,e,t(o))})),3===o?new Set(n):n}(t)}function Ut(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return kt(t)}var Bt,Ht,Yt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Kt="undefined"!=typeof Map,Qt="undefined"!=typeof Set,Gt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Vt=Yt?Symbol.for("immer-nothing"):((Bt={})["immer-nothing"]=!0,Bt),Jt=Yt?Symbol.for("immer-draftable"):"__$immer_draftable",Zt=Yt?Symbol.for("immer-state"):"__$immer_state",te=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ee="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ne=Object.getOwnPropertyDescriptors||function(t){var e={};return ee(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},re={},oe={get:function(t,e){if(e===Zt)return t;var n=$t(t);if(!vt(n,e))return function(t,e,n){var r,o=Mt(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!pt(r)?r:r===Lt(t.t,e)?(Wt(t),t.o[e]=Ft(t.A.h,r,t)):r},has:function(t,e){return e in $t(t)},ownKeys:function(t){return Reflect.ownKeys($t(t))},set:function(t,e,n){var r=Mt($t(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=Lt($t(t),e),i=null==o?void 0:o[Zt];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(gt(n,o)&&(void 0!==n||vt(t.t,e)))return!0;Wt(t),zt(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Lt(t.t,e)||e in t.t?(t.D[e]=!1,Wt(t),zt(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=$t(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){dt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){dt(12)}},ie={};mt(oe,(function(t,e){ie[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ie.deleteProperty=function(t,e){return oe.deleteProperty.call(this,t[0],e)},ie.set=function(t,e,n){return oe.set.call(this,t[0],e,n,t[0])};var se=function(){function t(t){var e=this;this.g=Gt,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,s=Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(s))}))}}var s;if("function"!=typeof n&&dt(6),void 0!==r&&"function"!=typeof r&&dt(7),pt(t)){var c=At(e),a=Ft(e,t,void 0),u=!0;try{s=n(a),u=!1}finally{u?Tt(c):Nt(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return Pt(c,r),qt(t,c)}),(function(t){throw Tt(c),t})):(Pt(c,r),qt(s,c))}if(!t||"object"!=typeof t){if((s=n(t))===Vt)return;return void 0===s&&(s=t),e.F&&jt(s,!0),s}dt(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,n,(function(t,e){r=t,o=e})),r,o];var r,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){pt(t)||dt(8),ht(t)&&(t=Xt(t));var e=At(this),n=Ft(this,t,void 0);return n[Zt].C=!0,Nt(e),n},e.finishDraft=function(t,e){var n=(t&&t[Zt]).A;return Pt(n,e),qt(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Gt&&dt(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=_t("Patches").$;return ht(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),ce=new se,ae=ce.produce;ce.produceWithPatches.bind(ce),ce.setAutoFreeze.bind(ce),ce.setUseProxies.bind(ce),ce.applyPatches.bind(ce),ce.createDraft.bind(ce),ce.finishDraft.bind(ce);const ue=ae;function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){le(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function he(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var pe="function"==typeof Symbol&&Symbol.observable||"@@observable",me=function(){return Math.random().toString(36).substring(7).split("").join(".")},ye={INIT:"@@redux/INIT"+me(),REPLACE:"@@redux/REPLACE"+me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+me()}};function ve(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function be(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(he(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(he(1));return n(be)(t,e)}if("function"!=typeof t)throw new Error(he(2));var o=t,i=e,s=[],c=s,a=!1;function u(){c===s&&(c=s.slice())}function l(){if(a)throw new Error(he(3));return i}function f(t){if("function"!=typeof t)throw new Error(he(4));if(a)throw new Error(he(5));var e=!0;return u(),c.push(t),function(){if(e){if(a)throw new Error(he(6));e=!1,u();var n=c.indexOf(t);c.splice(n,1),s=null}}}function d(t){if(!ve(t))throw new Error(he(7));if(void 0===t.type)throw new Error(he(8));if(a)throw new Error(he(9));try{a=!0,i=o(i,t)}finally{a=!1}for(var e=s=c,n=0;n<e.length;n++)(0,e[n])();return t}function h(t){if("function"!=typeof t)throw new Error(he(10));o=t,d({type:ye.REPLACE})}function p(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(he(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[pe]=function(){return this},t}return d({type:ye.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[pe]=p,r}function ge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function we(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(he(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=ge.apply(void 0,i)(n.dispatch),de(de({},n),{},{dispatch:r})}}}function xe(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var $e=xe();$e.withExtraArgument=xe;const ke=$e;var je=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Ee=Object.defineProperty,_e=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Se=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Te=function(t,e,n){return e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ne=function(t,e){for(var n in e||(e={}))Se.call(e,n)&&Te(t,n,e[n]);if(_e)for(var r=0,o=_e(e);r<o.length;r++)n=o[r],Pe.call(e,n)&&Te(t,n,e[n]);return t},Ae="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?ge:ge.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Ce=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return je(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Oe([void 0],t[0].concat(this)))):new(e.bind.apply(e,Oe([void 0],t.concat(this))))},e}(Array);function qe(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ne(Ne({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Ie(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function De(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:ue(t.initialState,(function(){})),o=t.reducers||{},i=Object.keys(o),s={},c={},a={};function u(){var e="function"==typeof t.extraReducers?Ie(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,i=e[1],s=void 0===i?[]:i,a=e[2],u=void 0===a?void 0:a,l=Ne(Ne({},o),c);return function(t,e,n,r){void 0===n&&(n=[]);var o,i="function"==typeof e?Ie(e):[e,n,r],s=i[0],c=i[1],a=i[2];if(function(t){return"function"==typeof t}(t))o=function(){return ue(t(),(function(){}))};else{var u=ue(t,(function(){}));o=function(){return u}}function l(t,e){void 0===t&&(t=o());var n=Oe([s[e.type]],c.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[a]),n.reduce((function(t,n){if(n){var r;if(ht(t))return void 0===(r=n(t,e))?t:r;if(pt(t))return ue(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=o,l}(r,l,s,u)}return i.forEach((function(t){var n,r,i=o[t],u=e+"/"+t;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,s[t]=n,c[u]=n,a[t]=r?qe(u,r):qe(u)})),{name:e,reducer:function(t,e){return n||(n=u()),n(t,e)},actions:a,caseReducers:s,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Zt];return oe.get(e,t)},set:function(e){var n=this[Zt];oe.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][Zt];if(!o.P)switch(o.i){case 5:r(o)&&zt(o);break;case 4:n(o)&&zt(o)}}}function n(t){for(var e=t.t,n=t.k,r=ee(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==Zt){var s=e[i];if(void 0===s&&!vt(e,i))return!0;var c=n[i],a=c&&c[Zt];if(a?a.t!==s:!gt(c,s))return!0}}var u=!!e[Zt];return r.length!==ee(e).length+(u?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var o={};!function(t,e){re[t]||(re[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=ne(n);delete i[Zt];for(var s=ee(i),c=0;c<s.length;c++){var a=s[c];i[a]=t(a,e||!!i[a].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:St(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,Zt,{value:i,writable:!0}),o},S:function(t,n,o){o?ht(n)&&n[Zt].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Zt];if(n){var o=n.t,i=n.k,s=n.D,c=n.i;if(4===c)mt(i,(function(e){e!==Zt&&(void 0!==o[e]||vt(o,e)?s[e]||t(i[e]):(s[e]=!0,zt(n)))})),mt(o,(function(t){void 0!==i[t]||vt(i,t)||(s[t]=!1,zt(n))}));else if(5===c){if(r(n)&&(zt(n),s.length=!0),i.length<o.length)for(var a=i.length;a<o.length;a++)s[a]=!1;else for(var u=o.length;u<i.length;u++)s[u]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)void 0===s[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();const Re=De({name:"document",initialState:null,reducers:{setDocument:(t,e)=>e.payload,renameDocument:(t,e)=>{if(!t)throw new Error("Document Not Loaded");return{...t,documentName:e.payload}},resizeDocument:(t,e)=>{if(!t)throw new Error("Document Not Loaded");return{...t,rect:e.payload}}}});var Le=function(t,e){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Le(t,e)};function Me(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function ze(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function We(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Xe(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function Be(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{!function(t){t.value instanceof Ue?Promise.resolve(t.value.v).then(a,u):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function a(t){c("next",t)}function u(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}function He(t){return"function"==typeof t}function Ye(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var Ke=Ye((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Qe(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=We(i),c=s.next();!c.done;c=s.next())c.value.remove(this)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else i.remove(this);var a=this.initialTeardown;if(He(a))try{a()}catch(t){o=t instanceof Ke?t.errors:[t]}var u=this._teardowns;if(u){this._teardowns=null;try{for(var l=We(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{Ze(d)}catch(t){o=null!=o?o:[],t instanceof Ke?o=Xe(Xe([],Fe(o)),Fe(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Ke(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Ze(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Qe(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&Qe(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Ve=Ge.EMPTY;function Je(t){return t instanceof Ge||t&&"closed"in t&&He(t.remove)&&He(t.add)&&He(t.unsubscribe)}function Ze(t){He(t)?t():t.unsubscribe()}var tn=null,en=null,nn=void 0,rn=!1,on=!1,sn={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sn.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,Xe([],Fe(t)))},clearTimeout:function(t){var e=sn.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function cn(t){sn.setTimeout((function(){if(!tn)throw t;tn(t)}))}function an(){}var un=ln("C",void 0,void 0);function ln(t,e,n){return{kind:t,value:e,error:n}}var fn=null;function dn(t){if(rn){var e=!fn;if(e&&(fn={errorThrown:!1,error:null}),t(),e){var n=fn,r=n.errorThrown,o=n.error;if(fn=null,r)throw o}}else t()}function hn(t){rn&&fn&&(fn.errorThrown=!0,fn.error=t)}var pn=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Je(e)&&e.add(n)):n.destination=gn,n}return Me(e,t),e.create=function(t,e,n){return new mn(t,e,n)},e.prototype.next=function(t){this.isStopped?bn(function(t){return ln("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?bn(ln("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?bn(un,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ge),mn=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(He(e))o=e;else if(e){var s;o=e.next,n=e.error,r=e.complete,i&&on?(s=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:s=e,o=null==o?void 0:o.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return i.destination={next:o?yn(o):an,error:yn(null!=n?n:vn),complete:r?yn(r):an},i}return Me(e,t),e}(pn);function yn(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,Xe([],Fe(e)))}catch(t){rn?hn(t):cn(t)}}}function vn(t){throw t}function bn(t,e){var n=en;n&&sn.setTimeout((function(){return n(t,e)}))}var gn={closed:!0,next:an,error:vn,complete:an},wn="function"==typeof Symbol&&Symbol.observable||"@@observable";function xn(t){return t}function $n(t){return 0===t.length?xn:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var kn=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof pn||function(t){return t&&He(t.next)&&He(t.error)&&He(t.complete)}(r)&&Je(r)?t:new mn(t,e,n);return dn((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=jn(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==o||o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[wn]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $n(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=jn(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function jn(t){var e;return null!==(e=null!=t?t:nn)&&void 0!==e?e:Promise}const On="root-store-context";function En(){return C(On).dispatch}function _n(t){const e=C(On);return new kn((n=>{const r=e.getState(),o=t(r);n.next(o),e.subscribe((()=>{const r=e.getState(),o=t(r);n.next(o)}))}))}var Sn,Pn,Tn,Nn;function An(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}!function(t){t.TEXTAREA="textrea",t.CIRCLE="circle",t.RECTANGLE="rectangle"}(Sn||(Sn={})),function(t){t.CREATE="create",t.FADE_IN="fade-in",t.TRANSITION="transition",t.DELETE="delete"}(Pn||(Pn={})),function(t){t.TOP="top",t.CENTER="center",t.BOTTOM="bottom"}(Tn||(Tn={})),function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}(Nn||(Nn={}));const Cn=De({name:"objects",initialState:[],reducers:{setDocumentObjects:(t,e)=>e.payload,createObject:(t,e)=>{let n;switch(e.payload.type){case Sn.RECTANGLE:n={uuid:An(),type:e.payload.type,shape:{...e.payload.rect},stroke:{strokeColor:"black",strokeDasharray:[],strokeWidth:3},text:{innerText:"",fontSize:30,textColor:"black",verticalAlign:Tn.CENTER,horizontalAlign:Nn.CENTER},effects:[{index:e.payload.index,type:Pn.CREATE}]};break;case Sn.TEXTAREA:case Sn.CIRCLE:n={uuid:An(),type:e.payload.type,shape:{...e.payload.rect},stroke:{strokeColor:"black",strokeDasharray:[],strokeWidth:3},text:{innerText:"Text",fontSize:30,textColor:"black",verticalAlign:Tn.CENTER,horizontalAlign:Nn.CENTER},effects:[{index:e.payload.index,type:Pn.CREATE}]};break;default:throw new Error("Unsupported Object")}const r=[...t];return r.push(n),r},updateTransitionOfObject:(t,e)=>{const n=t.findIndex((t=>t.uuid===e.payload.uuid));if(-1===n)throw new Error("Object not found");const r={...t[n],effects:t[n].effects.map((t=>({...t})))},o=r.effects.findIndex((t=>t.type===Pn.CREATE&&t.index===e.payload.index)),i=r.effects.findIndex((t=>t.type===Pn.TRANSITION&&t.index===e.payload.index));if(-1!==o)r.shape=e.payload.rect;else if(-1!==i)r.effects[i]={type:Pn.TRANSITION,index:e.payload.index,duration:e.payload.duration,...e.payload.rect};else{let t=r.effects.findIndex((t=>t.index>e.payload.index));-1===t&&(t=r.effects.length),r.effects.splice(t,0,{type:Pn.TRANSITION,index:e.payload.index,duration:e.payload.duration,...e.payload.rect})}const s=[...t];return s[n]=r,s},updateStrokeOfObject:(t,e)=>{const n=t.findIndex((t=>t.uuid===e.payload.uuid));if(-1===n)throw new Error("Object not found");const r=[...t],o={...t[n]};return o.stroke={...e.payload.stroke},r[n]=o,r}}});function qn(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function In(e){let n,r;return n=new ft({props:{models:e[9].children,parent:null}}),{c(){Z(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p:t,i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function Dn(t){let e,n,r,o,i,s,c,a,u=t[9].title+"",l=t[0]===t[11]&&t[9].children&&In(t);function f(){return t[6](t[11])}return{c(){e=g("div"),n=g("div"),r=x(u),o=$(),l&&l.c(),i=$(),O(n,"class","toolbar-item-title svelte-vba4dd"),O(e,"class","toolbar-item svelte-vba4dd"),P(e,"active",t[0]===t[11])},m(t,u){y(t,e,u),m(e,n),m(n,r),m(e,o),l&&l.m(e,null),m(e,i),s=!0,c||(a=j(e,"click",f),c=!0)},p(n,r){(t=n)[0]===t[11]&&t[9].children?l?(l.p(t,r),1&r&&G(l,1)):(l=In(t),l.c(),G(l,1),l.m(e,i)):l&&(K(),V(l,1,1,(()=>{l=null})),Q()),1&r&&P(e,"active",t[0]===t[11])},i(t){s||(G(l),s=!0)},o(t){V(l),s=!1},d(t){t&&v(e),l&&l.d(),c=!1,a()}}}function Rn(t){let e,n,r,o,i,s,c,a,u,l,f=(t[1]?t[1].documentName:"")+"",d=t[4],h=[];for(let e=0;e<d.length;e+=1)h[e]=Dn(qn(t,d,e));const p=t=>V(h[t],1,1,(()=>{h[t]=null}));return{c(){e=g("div"),n=g("div"),n.innerHTML='<svg id="icon" data-name="Layer 1" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="The Que Logo" role="img" class="svelte-vba4dd"><title>The Que Logo</title><defs><style>.cls-1 {\n            fill: #4fbe9f;\n          }\n          .cls-2 {\n            fill: #09816c;\n          }\n        </style></defs><title></title><path class="cls-1" d="M51.38,45.67h0s-.23,3.44-3.37,3.44c-2.42,0-4.07-1.84-5.61-4.24l0,0c-1-1.78-3.55-5.68-3.55-5.68-1.61-2.29-3.53-4.24-6.28-4.86a13.3,13.3,0,0,0-9.54,1.59,1.17,1.17,0,0,0-.44,1.51l.33.68a1.21,1.21,0,0,0,1.29.76,9.07,9.07,0,0,1,3.6.24c2,.46,3.52,3.2,5.28,6.35a8.47,8.47,0,0,1-3.81.93c-6.53,0-11.83-7.82-11.83-17.46s5.3-17.46,11.83-17.46,11.82,7.81,11.82,17.46a25.7,25.7,0,0,1-.34,4.17,3.74,3.74,0,0,0,1,3.23,28.69,28.69,0,0,1,3.06,3.81.92.92,0,0,0,1.54,0,21.3,21.3,0,0,0,3.15-11.18C49.58,17.36,40.5,8,29.3,8S9,17.36,9,28.91,18.1,49.82,29.3,49.82a19.6,19.6,0,0,0,5.85-.89c2.34,3.72,5.31,7.07,10,7.07C54.59,56,55,45.67,55,45.67Z"></path><path class="cls-2" d="M33.11,45.44a8.47,8.47,0,0,1-3.81.93c-3.24,0-6.17-1.92-8.3-5A1.87,1.87,0,0,0,18.17,41c-2,1.83-.32,4.36,2.4,6.76a19.58,19.58,0,0,0,14.58,1.17Z"></path><path class="cls-2" d="M32.52,44.4h0l0,0Z"></path><path class="cls-2" d="M36,50.26v0Z"></path></svg>',r=$(),o=g("div"),i=g("div"),s=g("span"),c=x(f),a=$(),u=g("div");for(let t=0;t<h.length;t+=1)h[t].c();O(n,"id","icon-container"),O(n,"class","svelte-vba4dd"),O(s,"id","title"),O(i,"id","title-container"),O(i,"class","svelte-vba4dd"),O(u,"class","toolbar-root svelte-vba4dd"),O(o,"id","toolbar-container"),O(o,"class","svelte-vba4dd"),O(e,"id","toolbar-root-container"),O(e,"class","svelte-vba4dd")},m(t,f){y(t,e,f),m(e,n),m(e,r),m(e,o),m(o,i),m(i,s),m(s,c),m(o,a),m(o,u);for(let t=0;t<h.length;t+=1)h[t].m(u,null);l=!0},p(t,[e]){if((!l||2&e)&&f!==(f=(t[1]?t[1].documentName:"")+"")&&E(c,f),49&e){let n;for(d=t[4],n=0;n<d.length;n+=1){const r=qn(t,d,n);h[n]?(h[n].p(r,e),G(h[n],1)):(h[n]=Dn(r),h[n].c(),G(h[n],1),h[n].m(u,null))}for(K(),n=d.length;n<h.length;n+=1)p(n);Q()}},i(t){if(!l){for(let t=0;t<d.length;t+=1)G(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)V(h[t]);l=!1},d(t){t&&v(e),b(h,t)}}}function Ln(t,e,n){let r,o;const i=En(),s=_n((t=>t.document));c(t,s,(t=>n(1,o=t)));const a=_n((t=>t.objects));let u;c(t,a,(t=>n(7,r=t)));const l=[{title:"File",children:[{title:"New Document",onClick:()=>{i(Re.actions.setDocument({documentName:"Document Name",rect:{width:1920,height:1080}})),i(Cn.actions.setDocumentObjects([]))}},{title:"Save Document",onClick:()=>{if(!o)return;const t={...o},e={...o,objects:r},n=JSON.stringify(e),i=new Blob([n],{type:"octet/stream"}),s=URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=`${t.documentName}.que`,c.click(),URL.revokeObjectURL(s)}},{title:"Open Document",onClick:()=>{const t=document.createElement("input");t.type="file",t.click(),t.addEventListener("change",(e=>{try{if(!t.files)return;const e=t.files[0];if(!e)return;const n=new FileReader;n.onload=t=>{const e=t.target?.result,n=JSON.parse(e);i(Re.actions.setDocument(n)),i(Cn.actions.setDocumentObjects(n.objects))},n.readAsText(e)}catch(e){}}))}},{title:"item",children:[{title:"item"},{title:"item",children:[{title:"item"},{title:"item"}]}]},{title:"item",children:[{title:"item"},{title:"item"},{title:"item",children:[{title:"item"},{title:"item"}]}]},{title:"item",children:[{title:"item"},{title:"item"},{title:"item",children:[{title:"item"},{title:"item"},{title:"item"}]}]}]},{title:"Edit",children:[{title:"item"}]},{title:"View",children:[{title:"item"}]}],f=t=>{n(0,u=u===t?void 0:t)};return[u,o,s,a,l,f,t=>f(t)]}const Mn=class extends rt{constructor(t){super(),nt(this,t,Ln,Rn,i,{})}};function zn(t){let e,n,r,o,i;const s=t[4].default,c=a(s,t,t[3],null);return{c(){e=g("button"),c&&c.c(),O(e,"class",n="que-button-wrapper "+(t[1]?"border":"")+" "+t[0]+" svelte-g4yeaq")},m(n,s){y(n,e,s),c&&c.m(e,null),r=!0,o||(i=j(e,"click",t[5]),o=!0)},p(t,[o]){c&&c.p&&(!r||8&o)&&f(c,s,t,t[3],r?l(s,t[3],o,null):d(t[3]),null),(!r||3&o&&n!==(n="que-button-wrapper "+(t[1]?"border":"")+" "+t[0]+" svelte-g4yeaq"))&&O(e,"class",n)},i(t){r||(G(c,t),r=!0)},o(t){V(c,t),r=!1},d(t){t&&v(e),c&&c.d(t),o=!1,i()}}}function Wn(t,e,n){let{$$slots:r={},$$scope:o}=e,{class:i=""}=e,{border:s=!1}=e;const c=A(),a=t=>{c("click",t)};return t.$$set=t=>{"class"in t&&n(0,i=t.class),"border"in t&&n(1,s=t.border),"$$scope"in t&&n(3,o=t.$$scope)},[i,s,a,o,r,t=>a(t)]}const Fn=class extends rt{constructor(t){super(),nt(this,t,Wn,zn,i,{class:0,border:1})}};function Xn(){return t=>{const e=t.currentQueueIndex,n=[];let r=Math.max(e-2,0);for(;n.length<5;)n.push(r++);return n}}const Un=De({initialState:0,name:"queue",reducers:{next:t=>Math.max(t+1,0),set:(t,e)=>Math.max(e.payload,0),previous:t=>Math.max(t-1,0)}}),Bn=De({name:"scale",initialState:.5,reducers:{increase:t=>t+.1,decrease:t=>Math.max(t-.1,.1)}});function Hn(t,e,n){const r=t.slice();return r[15]=e[n],r}function Yn(t){let e;return{c(){e=g("i"),O(e,"class","ri-arrow-go-back-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Kn(t){let e;return{c(){e=g("i"),O(e,"class","ri-arrow-go-forward-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Qn(t){let e;return{c(){e=g("i"),O(e,"class","ri-arrow-left-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Gn(t){let e,n,r,o=(t[15]>-1?t[15]+1:"")+"";return{c(){e=g("span"),n=x(o),O(e,"class",r="que-index "+(t[15]===t[0]?"current":"")+" svelte-1gjwdvr")},m(t,r){y(t,e,r),m(e,n)},p(t,i){2&i&&o!==(o=(t[15]>-1?t[15]+1:"")+"")&&E(n,o),3&i&&r!==(r="que-index "+(t[15]===t[0]?"current":"")+" svelte-1gjwdvr")&&O(e,"class",r)},d(t){t&&v(e)}}}function Vn(t){let e,n,r;return n=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Gn]},$$scope:{ctx:t}}}),n.$on("click",(function(){return t[10](t[15])})),{c(){e=g("div"),Z(n.$$.fragment),O(e,"class","subtoolbar-item svelte-1gjwdvr")},m(t,o){y(t,e,o),tt(n,e,null),r=!0},p(e,r){t=e;const o={};262147&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){t&&v(e),et(n)}}}function Jn(t){let e;return{c(){e=g("i"),O(e,"class","ri-arrow-right-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function Zn(t){let e;return{c(){e=g("i"),O(e,"class","ri-subtract-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function tr(t){let e;return{c(){e=g("i"),O(e,"class","ri-add-line")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function er(t){let e,n,r,o,i,s,c,a,u,l,f,d,h,p,w,x,k,j,E,_,S,P,T;o=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Yn]},$$scope:{ctx:t}}}),c=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),f=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Qn]},$$scope:{ctx:t}}}),f.$on("click",t[9]);let N=t[1],A=[];for(let e=0;e<N.length;e+=1)A[e]=Vn(Hn(t,N,e));const C=t=>V(A[t],1,1,(()=>{A[t]=null}));return w=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Jn]},$$scope:{ctx:t}}}),w.$on("click",t[11]),E=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Zn]},$$scope:{ctx:t}}}),E.$on("click",t[12]),P=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[tr]},$$scope:{ctx:t}}}),P.$on("click",t[13]),{c(){e=g("div"),n=g("div"),r=g("div"),Z(o.$$.fragment),i=$(),s=g("div"),Z(c.$$.fragment),a=$(),u=g("div"),l=g("div"),Z(f.$$.fragment),d=$();for(let t=0;t<A.length;t+=1)A[t].c();h=$(),p=g("div"),Z(w.$$.fragment),x=$(),k=g("div"),j=g("div"),Z(E.$$.fragment),_=$(),S=g("div"),Z(P.$$.fragment),O(r,"class","subtoolbar-item svelte-1gjwdvr"),O(s,"class","subtoolbar-item svelte-1gjwdvr"),O(n,"class","subtoolbar-button-group svelte-1gjwdvr"),O(l,"class","subtoolbar-item svelte-1gjwdvr"),O(p,"class","subtoolbar-item svelte-1gjwdvr"),O(u,"class","subtoolbar-button-group svelte-1gjwdvr"),O(j,"class","subtoolbar-item svelte-1gjwdvr"),O(S,"class","subtoolbar-item svelte-1gjwdvr"),O(k,"class","subtoolbar-button-group svelte-1gjwdvr"),O(e,"id","subtoolbar"),O(e,"class","svelte-1gjwdvr")},m(t,v){y(t,e,v),m(e,n),m(n,r),tt(o,r,null),m(n,i),m(n,s),tt(c,s,null),m(e,a),m(e,u),m(u,l),tt(f,l,null),m(u,d);for(let t=0;t<A.length;t+=1)A[t].m(u,null);m(u,h),m(u,p),tt(w,p,null),m(e,x),m(e,k),m(k,j),tt(E,j,null),m(k,_),m(k,S),tt(P,S,null),T=!0},p(t,[e]){const n={};262144&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};262144&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);const i={};if(262144&e&&(i.$$scope={dirty:e,ctx:t}),f.$set(i),67&e){let n;for(N=t[1],n=0;n<N.length;n+=1){const r=Hn(t,N,n);A[n]?(A[n].p(r,e),G(A[n],1)):(A[n]=Vn(r),A[n].c(),G(A[n],1),A[n].m(u,h))}for(K(),n=N.length;n<A.length;n+=1)C(n);Q()}const s={};262144&e&&(s.$$scope={dirty:e,ctx:t}),w.$set(s);const a={};262144&e&&(a.$$scope={dirty:e,ctx:t}),E.$set(a);const l={};262144&e&&(l.$$scope={dirty:e,ctx:t}),P.$set(l)},i(t){if(!T){G(o.$$.fragment,t),G(c.$$.fragment,t),G(f.$$.fragment,t);for(let t=0;t<N.length;t+=1)G(A[t]);G(w.$$.fragment,t),G(E.$$.fragment,t),G(P.$$.fragment,t),T=!0}},o(t){V(o.$$.fragment,t),V(c.$$.fragment,t),V(f.$$.fragment,t),A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)V(A[t]);V(w.$$.fragment,t),V(E.$$.fragment,t),V(P.$$.fragment,t),T=!1},d(t){t&&v(e),et(o),et(c),et(f),b(A,t),et(w),et(E),et(P)}}}function nr(t,e,n){let r,o;const i=En(),s=_n((t=>t.currentQueueIndex));c(t,s,(t=>n(0,r=t)));const a=_n(Xn());c(t,a,(t=>n(1,o=t)));const u=()=>{i(Un.actions.set(r-1))},l=()=>{i(Un.actions.set(r+1))},f=t=>{i(Un.actions.set(t))},d=()=>{i(Bn.actions.decrease())},h=()=>{i(Bn.actions.increase())};return[r,o,s,a,u,l,f,d,h,()=>u(),t=>f(t),()=>l(),()=>d(),()=>h()]}const rr=class extends rt{constructor(t){super(),nt(this,t,nr,er,i,{})}};function or(t,e,n){const r=t.slice();return r[11]=e[n],r[12]=e,r[13]=n,r}function ir(t,e,n){const r=t.slice();return r[14]=e[n],r}function sr(t){let e,n,r,o,i=t[11].name+"";return{c(){e=g("div"),n=g("div"),r=x(i),O(n,"class",o="object-group-text "+(t[11].opened?"opened":"closed")+" svelte-k192xn"),O(e,"class","object-group svelte-k192xn")},m(t,o){y(t,e,o),m(e,n),m(n,r)},p(t,e){2&e&&i!==(i=t[11].name+"")&&E(r,i),2&e&&o!==(o="object-group-text "+(t[11].opened?"opened":"closed")+" svelte-k192xn")&&O(n,"class",o)},d(t){t&&v(e)}}}function cr(t){let e,n,r,o=t[11].objects,i=[];for(let e=0;e<o.length;e+=1)i[e]=ur(ir(t,o,e));const s=t=>V(i[t],1,1,(()=>{i[t]=null}));return{c(){e=g("div");for(let t=0;t<i.length;t+=1)i[t].c();n=$(),O(e,"class","object-list svelte-k192xn")},m(t,o){y(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);m(e,n),r=!0},p(t,r){if(2&r){let c;for(o=t[11].objects,c=0;c<o.length;c+=1){const s=ir(t,o,c);i[c]?(i[c].p(s,r),G(i[c],1)):(i[c]=ur(s),i[c].c(),G(i[c],1),i[c].m(e,n))}for(K(),c=o.length;c<i.length;c+=1)s(c);Q()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)G(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)V(i[t]);r=!1},d(t){t&&v(e),b(i,t)}}}function ar(t){let e,n=t[14].preview+"";return{c(){e=w("svg"),O(e,"class","preview-svg svelte-k192xn"),O(e,"version","1.1"),O(e,"baseProfile","full"),O(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){y(t,e,r),e.innerHTML=n},p(t,r){2&r&&n!==(n=t[14].preview+"")&&(e.innerHTML=n)},d(t){t&&v(e)}}}function ur(t){let e,n;return e=new Fn({props:{border:!1,$$slots:{default:[ar]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[6](t[14])})),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(n,r){t=n;const o={};131074&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function lr(t){let e,n,r,o;e=new Fn({props:{border:!1,$$slots:{default:[sr]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[5](t[11],t[12],t[13])}));let i=t[11].opened&&cr(t);return{c(){Z(e.$$.fragment),n=$(),i&&i.c(),r=k()},m(t,s){tt(e,t,s),y(t,n,s),i&&i.m(t,s),y(t,r,s),o=!0},p(n,o){t=n;const s={};131074&o&&(s.$$scope={dirty:o,ctx:t}),e.$set(s),t[11].opened?i?(i.p(t,o),2&o&&G(i,1)):(i=cr(t),i.c(),G(i,1),i.m(r.parentNode,r)):i&&(K(),V(i,1,1,(()=>{i=null})),Q())},i(t){o||(G(e.$$.fragment,t),G(i),o=!0)},o(t){V(e.$$.fragment,t),V(i),o=!1},d(t){et(e,t),t&&v(n),i&&i.d(t),t&&v(r)}}}function fr(t){let e,n,r,o,i,s,c=t[1],a=[];for(let e=0;e<c.length;e+=1)a[e]=lr(or(t,c,e));const u=t=>V(a[t],1,1,(()=>{a[t]=null}));return{c(){e=g("div"),n=g("input"),r=$();for(let t=0;t<a.length;t+=1)a[t].c();O(n,"class","object-search-input svelte-k192xn"),O(n,"type","text"),O(n,"placeholder","Search Shapes"),O(e,"id","object-panel-root"),O(e,"class","svelte-k192xn")},m(c,u){y(c,e,u),m(e,n),_(n,t[0]),m(e,r);for(let t=0;t<a.length;t+=1)a[t].m(e,null);o=!0,i||(s=j(n,"input",t[4]),i=!0)},p(t,[r]){if(1&r&&n.value!==t[0]&&_(n,t[0]),2&r){let n;for(c=t[1],n=0;n<c.length;n+=1){const o=or(t,c,n);a[n]?(a[n].p(o,r),G(a[n],1)):(a[n]=lr(o),a[n].c(),G(a[n],1),a[n].m(e,null))}for(K(),n=c.length;n<a.length;n+=1)u(n);Q()}},i(t){if(!o){for(let t=0;t<c.length;t+=1)G(a[t]);o=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)V(a[t]);o=!1},d(t){t&&v(e),b(a,t),i=!1,s()}}}function dr(t,e,n){let r,o,i;const s=_n((t=>t.document));c(t,s,(t=>n(7,o=t)));const a=_n((t=>t.currentQueueIndex));c(t,a,(t=>n(8,i=t)));const u=En();let l="";const f=[{name:"object",opened:!0,objects:[{key:Sn.RECTANGLE,keywords:["rectangle","square"],preview:'\n            <g>\n              <rect width="30" height="30" stroke="black" stroke-width="4" fill="transparent" />\n            </g>\n          ',alt:"rectangle",click:()=>{u(Cn.actions.createObject({index:i,type:Sn.RECTANGLE,rect:{x:o.rect.width/2-50,y:o.rect.height/2-50,height:100,width:100}}))}},{key:Sn.CIRCLE,keywords:["circle","ellipse"],preview:'\n            <g>\n              <circle cx="15" cy="15" r="13" stroke="black" stroke-width="2" fill="transparent" />\n            </g>\n          ',alt:"circle",click:()=>{u(Cn.actions.createObject({index:i,type:Sn.CIRCLE,rect:{x:o.rect.width/2-50,y:o.rect.height/2-50,height:100,width:100}}))}}]},{name:"text",opened:!0,objects:[{key:Sn.TEXTAREA,keywords:["rectangle","square","text"],preview:'\n            <g>\n              <rect width="30" height="30" stroke="black" stroke-width="4" fill="transparent" />\n              <foreignObject\n                width="30"\n                height="30"\n                fill="transparent"\n              >\n                <div style="height: 100%; display:flex; align-items: center; justify-content: center;">\n                  <div class="object-textarea" style="font-size: 8px;">\n                    TEXT\n                  </div>\n                </div>\n              </foreignObject>\n            </g>\n          ',alt:"textarea",click:()=>{u(Cn.actions.createObject({index:i,type:Sn.TEXTAREA,rect:{x:o.rect.width/2-50,y:o.rect.height/2-50,height:100,width:100}}))}}]}];return t.$$.update=()=>{1&t.$$.dirty&&n(1,r=l?f.reduce(((t,e)=>{const n=e.objects.filter((t=>t.keywords.some((t=>t.match(l)))));return n.length&&t.push({...e,objects:n}),t}),[]):f)},[l,r,s,a,function(){l=this.value,n(0,l)},(t,e,o)=>n(1,e[o].opened=!t.opened,r),t=>t.click()]}const hr=class extends rt{constructor(t){super(),nt(this,t,dr,fr,i,{})}};function pr(t){return function(e){if(function(t){return He(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var mr=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.onFinalize=i,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return Me(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(pn);function yr(t,e){return pr((function(n,r){var o=0;n.subscribe(new mr(r,(function(n){r.next(t.call(e,n,o++))})))}))}function vr(){return pr((function(t,e){var n,r=!1;t.subscribe(new mr(e,(function(t){var o=n;n=t,r&&e.next([o,t]),r=!0})))}))}function br(t,e){return t===e}var gr=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},wr="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function xr(t){if(t instanceof kn)return t;if(null!=t){if(function(t){return He(t[wn])}(t))return i=t,new kn((function(t){var e=i[wn]();if(He(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(gr(t))return o=t,new kn((function(t){for(var e=0;e<o.length&&!t.closed;e++)t.next(o[e]);t.complete()}));if(He(null==(r=t)?void 0:r.then))return e=t,new kn((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,cn)}));if(function(t){return Symbol.asyncIterator&&He(null==t?void 0:t[Symbol.asyncIterator])}(t))return $r(t);if(function(t){return He(null==t?void 0:t[wr])}(t))return n=t,new kn((function(t){var e,r;try{for(var o=We(n),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}t.complete()}));if(function(t){return He(null==t?void 0:t.getReader)}(t))return $r(function(t){return Be(this,arguments,(function(){var e,n,r;return ze(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ue(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Ue(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ue(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var e,n,r,o,i;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)}function $r(t){return new kn((function(e){(function(t,e){var n,r,o,i;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var s,c;return ze(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=We(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),o={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function kr(t){return pr((function(e,n){xr(t).subscribe(new mr(n,(function(){return n.complete()}),an)),!n.closed&&e.subscribe(n)}))}var jr=Ye((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Or=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Me(e,t),e.prototype.lift=function(t){var e=new Er(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new jr},e.prototype.next=function(t){var e=this;dn((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=We(o),s=i.next();!s.done;s=i.next())s.value.next(t)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;dn((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;dn((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?Ve:(o.push(t),new Ge((function(){return Qe(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new kn;return t.source=this,t},e.create=function(t,e){return new Er(t,e)},e}(kn),Er=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Me(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Ve},e}(Or),_r=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return Me(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,r=t._value;if(e)throw n;return this._throwIfClosed(),r},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Or);function Sr(t,e,n){return void 0===n&&(n=1/0),He(e)?Sr((function(n,r){return yr((function(t,o){return e(n,t,r,o)}))(xr(t(n,r)))}),n):("number"==typeof e&&(n=e),pr((function(e,r){return function(t,e,n,r,o,i,s,c){var a=[],u=0,l=0,f=!1,d=function(){!f||a.length||u||e.complete()},h=function(t){return u<r?p(t):a.push(t)},p=function(t){u++;var o=!1;xr(n(t,l++)).subscribe(new mr(e,(function(t){e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{u--;for(var t=function(){var t=a.shift();p(t)};a.length&&u<r;)t();d()}catch(t){e.error(t)}})))};return t.subscribe(new mr(e,h,(function(){f=!0,d()}))),function(){}}(e,r,t,n)})))}var Pr=Array.isArray;var Tr=["addListener","removeListener"],Nr=["addEventListener","removeEventListener"],Ar=["on","off"];function Cr(t,e,n,r){if(He(n)&&(r=n,n=void 0),r)return Cr(t,e,n).pipe(function(t){return yr((function(e){return function(t,e){return Pr(e)?t.apply(void 0,Xe([],Fe(e))):t(e)}(t,e)}))}(r));var o=Fe(function(t){return He(t.addEventListener)&&He(t.removeEventListener)}(t)?Nr.map((function(r){return function(o){return t[r](e,o,n)}})):function(t){return He(t.addListener)&&He(t.removeListener)}(t)?Tr.map(qr(t,e)):function(t){return He(t.on)&&He(t.off)}(t)?Ar.map(qr(t,e)):[],2),i=o[0],s=o[1];if(!i&&gr(t))return Sr((function(t){return Cr(t,e,n)}))(xr(t));if(!i)throw new TypeError("Invalid event target");return new kn((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return i(e),function(){return s(e)}}))}function qr(t,e){return function(n){return function(r){return t[n](e,r)}}}const Ir=()=>t=>{const e=(t=>t.selectedObjects)(t),n=(t=>{const e={};return t.objects.forEach((t=>{e[t.uuid]=t})),e})(t);return e.map((t=>{if(!n[t])throw new Error(`UUID: ${t} object not found`);return n[t]}))},Dr=De({name:"selectedObjects",initialState:[],reducers:{add:(t,e)=>{const n=[...t];return n.push(e.payload),n},remove:(t,e)=>{const n=[...t],r=n.indexOf(e.payload);return-1!==r&&n.splice(r,1),n},set:(t,e)=>[...e.payload],reset:()=>[]}});function Rr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x-Yr-Hr/2),O(e,"to",r=t[1].shape.x-Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y-Yr-Hr/2),O(o,"to",s=t[1].shape.y-Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x-Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y-Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y-Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Lr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x+t[0].shape.width/2-Hr/2),O(e,"to",r=t[1].shape.x+t[1].shape.width/2-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y-Yr-Hr/2),O(o,"to",s=t[1].shape.y-Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width/2-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width/2-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y-Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y-Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Mr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x+t[0].shape.width+Yr-Hr/2),O(e,"to",r=t[1].shape.x+t[1].shape.width+Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y-Yr-Hr/2),O(o,"to",s=t[1].shape.y-Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y-Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y-Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function zr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x+t[0].shape.width+Yr-Hr/2),O(e,"to",r=t[1].shape.x+t[1].shape.width+Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y+t[0].shape.height/2-Yr/2),O(o,"to",s=t[1].shape.y+t[1].shape.height/2-Yr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height/2-Yr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height/2-Yr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Wr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x+t[0].shape.width+Yr-Hr/2),O(e,"to",r=t[1].shape.x+t[1].shape.width+Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y+t[0].shape.height+Yr-Hr/2),O(o,"to",s=t[1].shape.y+t[1].shape.height+Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Fr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x+t[0].shape.width/2-Hr/2),O(e,"to",r=t[1].shape.x+t[1].shape.width/2-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y+t[0].shape.height+Yr-Hr/2),O(o,"to",s=t[1].shape.y+t[1].shape.height+Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width/2-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width/2-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Xr(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x-Yr-Hr/2),O(e,"to",r=t[1].shape.x-Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y+t[0].shape.height+Yr-Hr/2),O(o,"to",s=t[1].shape.y+t[1].shape.height+Yr-Hr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x-Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+Yr-Hr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Ur(t){let e,n,r,o,i,s;return{c(){e=w("animate"),o=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","x"),O(e,"from",n=t[0].shape.x-Yr-Hr/2),O(e,"to",r=t[1].shape.x-Yr-Hr/2),O(e,"dur","0.5s"),O(o,"class","queue-animator"),O(o,"begin","indefinite"),O(o,"attributeName","y"),O(o,"from",i=t[0].shape.y+t[0].shape.height/2-Yr/2),O(o,"to",s=t[1].shape.y+t[1].shape.height/2-Yr/2),O(o,"dur","0.5s")},m(t,n){y(t,e,n),y(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-Yr-Hr/2)&&O(e,"from",n),2&c&&r!==(r=t[1].shape.x-Yr-Hr/2)&&O(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height/2-Yr/2)&&O(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height/2-Yr/2)&&O(o,"to",s)},d(t){t&&v(e),t&&v(o)}}}function Br(e){let n,o,i,s,c,a,u,l,f,d,h,p,m,b,g,x,k,E,_,S,P,T,N,A,C,q,I,D,R,L,M,z,W,F=e[0]&&Rr(e),X=e[0]&&Lr(e),U=e[0]&&Mr(e),B=e[0]&&zr(e),H=e[0]&&Wr(e),Y=e[0]&&Fr(e),K=e[0]&&Xr(e),Q=e[0]&&Ur(e);return{c(){n=w("rect"),F&&F.c(),s=$(),c=w("rect"),X&&X.c(),l=$(),f=w("rect"),U&&U.c(),p=$(),m=w("rect"),B&&B.c(),x=$(),k=w("rect"),H&&H.c(),S=$(),P=w("rect"),Y&&Y.c(),A=$(),C=w("rect"),K&&K.c(),D=$(),R=w("rect"),Q&&Q.c(),O(n,"class","vertex top-left svelte-1i6sclr"),O(n,"x",o=e[1].shape.x-Yr-Hr/2),O(n,"y",i=e[1].shape.y-Yr-Hr/2),O(n,"width",Hr),O(n,"height",Hr),O(c,"class","vertex top-middle svelte-1i6sclr"),O(c,"x",a=e[1].shape.x+e[1].shape.width/2-Hr/2),O(c,"y",u=e[1].shape.y-Yr-Hr/2),O(c,"width",Hr),O(c,"height",Hr),O(f,"class","vertex top-right svelte-1i6sclr"),O(f,"x",d=e[1].shape.x+e[1].shape.width+Yr-Hr/2),O(f,"y",h=e[1].shape.y-Yr-Hr/2),O(f,"width",Hr),O(f,"height",Hr),O(m,"class","vertex middle-right svelte-1i6sclr"),O(m,"x",b=e[1].shape.x+e[1].shape.width+Yr-Hr/2),O(m,"y",g=e[1].shape.y+e[1].shape.height/2-Yr/2),O(m,"width",Hr),O(m,"height",Hr),O(k,"class","vertex bottom-right svelte-1i6sclr"),O(k,"x",E=e[1].shape.x+e[1].shape.width+Yr-Hr/2),O(k,"y",_=e[1].shape.y+e[1].shape.height+Yr-Hr/2),O(k,"width",Hr),O(k,"height",Hr),O(P,"class","vertex bottom-middle svelte-1i6sclr"),O(P,"x",T=e[1].shape.x+e[1].shape.width/2-Hr/2),O(P,"y",N=e[1].shape.y+e[1].shape.height+Yr-Hr/2),O(P,"width",Hr),O(P,"height",Hr),O(C,"class","vertex bottom-left svelte-1i6sclr"),O(C,"x",q=e[1].shape.x-Yr-Hr/2),O(C,"y",I=e[1].shape.y+e[1].shape.height+Yr-Hr/2),O(C,"width",Hr),O(C,"height",Hr),O(R,"class","vertex middle-left svelte-1i6sclr"),O(R,"x",L=e[1].shape.x-Yr-Hr/2),O(R,"y",M=e[1].shape.y+e[1].shape.height/2-Yr/2),O(R,"width",Hr),O(R,"height",Hr)},m(t,r){y(t,n,r),F&&F.m(n,null),y(t,s,r),y(t,c,r),X&&X.m(c,null),y(t,l,r),y(t,f,r),U&&U.m(f,null),y(t,p,r),y(t,m,r),B&&B.m(m,null),y(t,x,r),y(t,k,r),H&&H.m(k,null),y(t,S,r),y(t,P,r),Y&&Y.m(P,null),y(t,A,r),y(t,C,r),K&&K.m(C,null),y(t,D,r),y(t,R,r),Q&&Q.m(R,null),z||(W=[j(n,"mousedown",e[5]),j(c,"mousedown",e[6]),j(f,"mousedown",e[7]),j(m,"mousedown",e[8]),j(k,"mousedown",e[9]),j(P,"mousedown",e[10]),j(C,"mousedown",e[11]),j(R,"mousedown",e[12])],z=!0)},p(t,[e]){t[0]?F?F.p(t,e):(F=Rr(t),F.c(),F.m(n,null)):F&&(F.d(1),F=null),2&e&&o!==(o=t[1].shape.x-Yr-Hr/2)&&O(n,"x",o),2&e&&i!==(i=t[1].shape.y-Yr-Hr/2)&&O(n,"y",i),t[0]?X?X.p(t,e):(X=Lr(t),X.c(),X.m(c,null)):X&&(X.d(1),X=null),2&e&&a!==(a=t[1].shape.x+t[1].shape.width/2-Hr/2)&&O(c,"x",a),2&e&&u!==(u=t[1].shape.y-Yr-Hr/2)&&O(c,"y",u),t[0]?U?U.p(t,e):(U=Mr(t),U.c(),U.m(f,null)):U&&(U.d(1),U=null),2&e&&d!==(d=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(f,"x",d),2&e&&h!==(h=t[1].shape.y-Yr-Hr/2)&&O(f,"y",h),t[0]?B?B.p(t,e):(B=zr(t),B.c(),B.m(m,null)):B&&(B.d(1),B=null),2&e&&b!==(b=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(m,"x",b),2&e&&g!==(g=t[1].shape.y+t[1].shape.height/2-Yr/2)&&O(m,"y",g),t[0]?H?H.p(t,e):(H=Wr(t),H.c(),H.m(k,null)):H&&(H.d(1),H=null),2&e&&E!==(E=t[1].shape.x+t[1].shape.width+Yr-Hr/2)&&O(k,"x",E),2&e&&_!==(_=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(k,"y",_),t[0]?Y?Y.p(t,e):(Y=Fr(t),Y.c(),Y.m(P,null)):Y&&(Y.d(1),Y=null),2&e&&T!==(T=t[1].shape.x+t[1].shape.width/2-Hr/2)&&O(P,"x",T),2&e&&N!==(N=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(P,"y",N),t[0]?K?K.p(t,e):(K=Xr(t),K.c(),K.m(C,null)):K&&(K.d(1),K=null),2&e&&q!==(q=t[1].shape.x-Yr-Hr/2)&&O(C,"x",q),2&e&&I!==(I=t[1].shape.y+t[1].shape.height+Yr-Hr/2)&&O(C,"y",I),t[0]?Q?Q.p(t,e):(Q=Ur(t),Q.c(),Q.m(R,null)):Q&&(Q.d(1),Q=null),2&e&&L!==(L=t[1].shape.x-Yr-Hr/2)&&O(R,"x",L),2&e&&M!==(M=t[1].shape.y+t[1].shape.height/2-Yr/2)&&O(R,"y",M)},i:t,o:t,d(t){t&&v(n),F&&F.d(),t&&v(s),t&&v(c),X&&X.d(),t&&v(l),t&&v(f),U&&U.d(),t&&v(p),t&&v(m),B&&B.d(),t&&v(x),t&&v(k),H&&H.d(),t&&v(S),t&&v(P),Y&&Y.d(),t&&v(A),t&&v(C),K&&K.d(),t&&v(D),t&&v(R),Q&&Q.d(),z=!1,r(W)}}}const Hr=15,Yr=0;function Kr(t,e,n){let r,o,{from:i=null}=e,{to:s}=e;const a=En(),u=_n((t=>t.currentQueueIndex));c(t,u,(t=>n(13,r=t)));const l=_n((t=>t.scale));c(t,l,(t=>n(14,o=t)));const f=(t,e,n)=>{n.preventDefault(),n.stopPropagation();const i=n.clientX,s=n.clientY,c={x:t.shape.x,y:t.shape.y,width:t.shape.width,height:t.shape.height};let u;const l=n=>{const l=(n.clientX-i)*(1/o),f=(n.clientY-s)*(1/o);switch(e){case"top-left":u={x:c.x+l,y:c.y+f,width:c.width+-l,height:c.height+-f};break;case"top-middle":u={x:c.x,y:c.y+f,width:c.width,height:c.height+-f};break;case"top-right":u={x:c.x,y:c.y+f,width:c.width+l,height:c.height+-f};break;case"middle-right":u={x:c.x,y:c.y,width:c.width+l,height:c.height};break;case"bottom-right":u={x:c.x,y:c.y,width:c.width+l,height:c.height+f};break;case"bottom-middle":u={x:c.x,y:c.y,width:c.width,height:c.height+f};break;case"bottom-left":u={x:c.x+l,y:c.y,width:c.width+-l,height:c.height+f};break;case"middle-left":u={x:c.x+l,y:c.y,width:c.width+-l,height:c.height}}a(Cn.actions.updateTransitionOfObject({index:r,uuid:t.uuid,duration:.5,rect:u}))},f=t=>{document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",f)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",f)};return t.$$set=t=>{"from"in t&&n(0,i=t.from),"to"in t&&n(1,s=t.to)},[i,s,u,l,f,t=>f(s,"top-left",t),t=>f(s,"top-middle",t),t=>f(s,"top-right",t),t=>f(s,"middle-right",t),t=>f(s,"bottom-right",t),t=>f(s,"bottom-middle",t),t=>f(s,"bottom-left",t),t=>f(s,"middle-left",t)]}const Qr=class extends rt{constructor(t){super(),nt(this,t,Kr,Br,i,{from:0,to:1})}};function Gr(t){return new kn((function(e){xr(t()).subscribe(e)}))}var Vr=new kn((function(t){return t.complete()}));function Jr(t){return t<=0?function(){return Vr}:pr((function(e,n){var r=0;e.subscribe(new mr(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}Gr((()=>{const t=new Or;return N().$$.on_mount.push((()=>{t.next()})),t.asObservable().pipe(Jr(1))}));const Zr=Gr((()=>{const t=new Or;return N().$$.on_destroy.push((()=>{t.next()})),t.asObservable().pipe(Jr(1))}));function to(t,e){return pr((function(n,r){var o=0;n.subscribe(new mr(r,(function(n){return t.call(e,n,o++)&&r.next(n)})))}))}function eo(t){let e,n,r,o,i,s,c,a,u,l,f,d,h,p,m,b;return{c(){e=w("animate"),i=w("animate"),u=w("animate"),h=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","height"),O(e,"from",n=t[1].shape.height),O(e,"to",r=t[0].shape.height),O(e,"dur",o=`${t[0].duration}s`),O(i,"class","queue-animator"),O(i,"begin","indefinite"),O(i,"attributeName","width"),O(i,"from",s=t[1].shape.width),O(i,"to",c=t[0].shape.width),O(i,"dur",a=`${t[0].duration}s`),O(u,"class","queue-animator"),O(u,"begin","indefinite"),O(u,"attributeName","x"),O(u,"from",l=t[1].shape.x),O(u,"to",f=t[0].shape.x),O(u,"dur",d=`${t[0].duration}s`),O(h,"class","queue-animator"),O(h,"begin","indefinite"),O(h,"attributeName","y"),O(h,"from",p=t[1].shape.y),O(h,"to",m=t[0].shape.y),O(h,"dur",b=`${t[0].duration}s`)},m(t,n){y(t,e,n),y(t,i,n),y(t,u,n),y(t,h,n)},p(t,y){2&y&&n!==(n=t[1].shape.height)&&O(e,"from",n),1&y&&r!==(r=t[0].shape.height)&&O(e,"to",r),1&y&&o!==(o=`${t[0].duration}s`)&&O(e,"dur",o),2&y&&s!==(s=t[1].shape.width)&&O(i,"from",s),1&y&&c!==(c=t[0].shape.width)&&O(i,"to",c),1&y&&a!==(a=`${t[0].duration}s`)&&O(i,"dur",a),2&y&&l!==(l=t[1].shape.x)&&O(u,"from",l),1&y&&f!==(f=t[0].shape.x)&&O(u,"to",f),1&y&&d!==(d=`${t[0].duration}s`)&&O(u,"dur",d),2&y&&p!==(p=t[1].shape.y)&&O(h,"from",p),1&y&&m!==(m=t[0].shape.y)&&O(h,"to",m),1&y&&b!==(b=`${t[0].duration}s`)&&O(h,"dur",b)},d(t){t&&v(e),t&&v(i),t&&v(u),t&&v(h)}}}function no(e){let n,o,i,s,c,a,u,l,f,d,h,p=e[1]&&eo(e);return{c(){n=w("foreignObject"),o=g("div"),i=g("div"),c=$(),p&&p.c(),O(i,"class","object-textarea svelte-huwdu9"),O(i,"contenteditable","true"),O(i,"spellcheck","false"),S(i,"font-size",e[2].fontSize+"px"),O(i,"value",s=e[2].innerText),O(o,"class","object-textarea-wrapper svelte-huwdu9"),S(o,"justify-content",e[5]),S(o,"text-align",e[4]),O(n,"x",a=e[0].shape.x),O(n,"y",u=e[0].shape.y),O(n,"width",l=e[0].shape.width),O(n,"height",f=e[0].shape.height),O(n,"fill","transparent")},m(t,r){y(t,n,r),m(n,o),m(o,i),e[9](i),m(o,c),p&&p.m(n,null),d||(h=[j(i,"keydown",e[10]),j(i,"mousedown",e[11])],d=!0)},p(t,[e]){4&e&&S(i,"font-size",t[2].fontSize+"px"),4&e&&s!==(s=t[2].innerText)&&O(i,"value",s),32&e&&S(o,"justify-content",t[5]),16&e&&S(o,"text-align",t[4]),t[1]?p?p.p(t,e):(p=eo(t),p.c(),p.m(n,null)):p&&(p.d(1),p=null),1&e&&a!==(a=t[0].shape.x)&&O(n,"x",a),1&e&&u!==(u=t[0].shape.y)&&O(n,"y",u),1&e&&l!==(l=t[0].shape.width)&&O(n,"width",l),1&e&&f!==(f=t[0].shape.height)&&O(n,"height",f)},i:t,o:t,d(t){t&&v(n),e[9](null),p&&p.d(),d=!1,r(h)}}}function ro(t,e,n){let r,o,{object:i}=e,{to:s}=e,{from:c}=e,{text:a}=e;const u=En();let l;_n((t=>{const e=(t=>t.selectedObjects)(t),n=(t=>{const e={};return t.objects.forEach((t=>{e[t.uuid]=t})),e})(t);return e.reduce(((t,e)=>(t[e]=n[e],t)),{})})).pipe(kr(Zr),yr((t=>t[i.uuid])),to((()=>Boolean(l)))).subscribe({next:t=>{if(t&&!l.childNodes[0])l.focus();else if(!t){const t=window.getSelection();t?.focusNode===l.childNodes[0]&&t.removeAllRanges(),l.blur()}}});const f=t=>{"Enter"===t.key&&(t.preventDefault(),document.execCommand("insertLineBreak"))},d=t=>{t.stopPropagation(),u(Dr.actions.set([i.uuid]))};return t.$$set=t=>{"object"in t&&n(8,i=t.object),"to"in t&&n(0,s=t.to),"from"in t&&n(1,c=t.from),"text"in t&&n(2,a=t.text)},t.$$.update=()=>{4&t.$$.dirty&&n(5,r=a.verticalAlign===Tn.TOP?"flex-start":a.verticalAlign===Tn.CENTER?"center":a.verticalAlign===Tn.BOTTOM?"flex-end":""),4&t.$$.dirty&&n(4,o=a.horizontalAlign===Nn.LEFT?"left":a.horizontalAlign===Nn.CENTER?"center":a.horizontalAlign===Nn.RIGHT?"right":"")},[s,c,a,l,o,r,f,d,i,function(t){I[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},t=>f(t),t=>d(t)]}Gr((()=>{const t=new Or;return N().$$.before_update.push((()=>{t.next()})),t.asObservable().pipe(kr(Zr))})),Gr((()=>{const t=new Or;return N().$$.after_update.push((()=>{t.next()})),t.asObservable().pipe(kr(Zr))}));const oo=class extends rt{constructor(t){super(),nt(this,t,ro,no,i,{object:8,to:0,from:1,text:2})}};function io(t){let e,n,r,o,i,s,c,a,u,l,f,d,h,p,m,b;return{c(){e=w("animate"),i=w("animate"),u=w("animate"),h=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","height"),O(e,"from",n=t[2].shape.height),O(e,"to",r=t[1].shape.height),O(e,"dur",o=`${t[2].duration}s`),O(i,"class","queue-animator"),O(i,"begin","indefinite"),O(i,"attributeName","width"),O(i,"from",s=t[2].shape.width),O(i,"to",c=t[1].shape.width),O(i,"dur",a=`${t[2].duration}s`),O(u,"class","queue-animator"),O(u,"begin","indefinite"),O(u,"attributeName","x"),O(u,"from",l=t[2].shape.x),O(u,"to",f=t[1].shape.x),O(u,"dur",d=`${t[2].duration}s`),O(h,"class","queue-animator"),O(h,"begin","indefinite"),O(h,"attributeName","y"),O(h,"from",p=t[2].shape.y),O(h,"to",m=t[1].shape.y),O(h,"dur",b=`${t[2].duration}s`)},m(t,n){y(t,e,n),y(t,i,n),y(t,u,n),y(t,h,n)},p(t,y){4&y&&n!==(n=t[2].shape.height)&&O(e,"from",n),2&y&&r!==(r=t[1].shape.height)&&O(e,"to",r),4&y&&o!==(o=`${t[2].duration}s`)&&O(e,"dur",o),4&y&&s!==(s=t[2].shape.width)&&O(i,"from",s),2&y&&c!==(c=t[1].shape.width)&&O(i,"to",c),4&y&&a!==(a=`${t[2].duration}s`)&&O(i,"dur",a),4&y&&l!==(l=t[2].shape.x)&&O(u,"from",l),2&y&&f!==(f=t[1].shape.x)&&O(u,"to",f),4&y&&d!==(d=`${t[2].duration}s`)&&O(u,"dur",d),4&y&&p!==(p=t[2].shape.y)&&O(h,"from",p),2&y&&m!==(m=t[1].shape.y)&&O(h,"to",m),4&y&&b!==(b=`${t[2].duration}s`)&&O(h,"dur",b)},d(t){t&&v(e),t&&v(i),t&&v(u),t&&v(h)}}}function so(e){let n,r,o,i,s,c,a,u,l=e[2]&&io(e);return{c(){n=w("rect"),l&&l.c(),O(n,"x",r=e[1].shape.x),O(n,"y",o=e[1].shape.y),O(n,"width",i=e[1].shape.width),O(n,"height",s=e[1].shape.height),O(n,"stroke",c=e[0].stroke.strokeColor),O(n,"stroke-width",a=e[0].stroke.strokeWidth),O(n,"stroke-dasharray",u=e[0].stroke.strokeDasharray.length?e[0].stroke.strokeDasharray.join(" "):null),O(n,"fill","transparent")},m(t,e){y(t,n,e),l&&l.m(n,null)},p(t,[e]){t[2]?l?l.p(t,e):(l=io(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),2&e&&r!==(r=t[1].shape.x)&&O(n,"x",r),2&e&&o!==(o=t[1].shape.y)&&O(n,"y",o),2&e&&i!==(i=t[1].shape.width)&&O(n,"width",i),2&e&&s!==(s=t[1].shape.height)&&O(n,"height",s),1&e&&c!==(c=t[0].stroke.strokeColor)&&O(n,"stroke",c),1&e&&a!==(a=t[0].stroke.strokeWidth)&&O(n,"stroke-width",a),1&e&&u!==(u=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null)&&O(n,"stroke-dasharray",u)},i:t,o:t,d(t){t&&v(n),l&&l.d()}}}function co(t,e,n){let{object:r}=e,{to:o}=e,{from:i}=e;return t.$$set=t=>{"object"in t&&n(0,r=t.object),"to"in t&&n(1,o=t.to),"from"in t&&n(2,i=t.from)},[r,o,i]}const ao=class extends rt{constructor(t){super(),nt(this,t,co,so,i,{object:0,to:1,from:2})}};function uo(t){let e,n,r,o,i,s,c,a,u,l,f,d,h,p,m,b;return{c(){e=w("animate"),i=w("animate"),u=w("animate"),h=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","height"),O(e,"from",n=t[2].shape.height),O(e,"to",r=t[1].shape.height),O(e,"dur",o=`${t[2].duration}s`),O(i,"class","queue-animator"),O(i,"begin","indefinite"),O(i,"attributeName","width"),O(i,"from",s=t[2].shape.width),O(i,"to",c=t[1].shape.width),O(i,"dur",a=`${t[2].duration}s`),O(u,"class","queue-animator"),O(u,"begin","indefinite"),O(u,"attributeName","x"),O(u,"from",l=t[2].shape.x),O(u,"to",f=t[1].shape.x),O(u,"dur",d=`${t[2].duration}s`),O(h,"class","queue-animator"),O(h,"begin","indefinite"),O(h,"attributeName","y"),O(h,"from",p=t[2].shape.y),O(h,"to",m=t[1].shape.y),O(h,"dur",b=`${t[2].duration}s`)},m(t,n){y(t,e,n),y(t,i,n),y(t,u,n),y(t,h,n)},p(t,y){4&y&&n!==(n=t[2].shape.height)&&O(e,"from",n),2&y&&r!==(r=t[1].shape.height)&&O(e,"to",r),4&y&&o!==(o=`${t[2].duration}s`)&&O(e,"dur",o),4&y&&s!==(s=t[2].shape.width)&&O(i,"from",s),2&y&&c!==(c=t[1].shape.width)&&O(i,"to",c),4&y&&a!==(a=`${t[2].duration}s`)&&O(i,"dur",a),4&y&&l!==(l=t[2].shape.x)&&O(u,"from",l),2&y&&f!==(f=t[1].shape.x)&&O(u,"to",f),4&y&&d!==(d=`${t[2].duration}s`)&&O(u,"dur",d),4&y&&p!==(p=t[2].shape.y)&&O(h,"from",p),2&y&&m!==(m=t[1].shape.y)&&O(h,"to",m),4&y&&b!==(b=`${t[2].duration}s`)&&O(h,"dur",b)},d(t){t&&v(e),t&&v(i),t&&v(u),t&&v(h)}}}function lo(e){let n,r,o,i,s,c,a,u,l=e[2]&&uo(e);return{c(){n=w("rect"),l&&l.c(),O(n,"x",r=e[1].shape.x),O(n,"y",o=e[1].shape.y),O(n,"width",i=e[1].shape.width),O(n,"height",s=e[1].shape.height),O(n,"stroke",c=e[0].stroke.strokeColor),O(n,"stroke-width",a=e[0].stroke.strokeWidth),O(n,"stroke-dasharray",u=e[0].stroke.strokeDasharray.length?e[0].stroke.strokeDasharray.join(" "):null),O(n,"fill","transparent")},m(t,e){y(t,n,e),l&&l.m(n,null)},p(t,[e]){t[2]?l?l.p(t,e):(l=uo(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),2&e&&r!==(r=t[1].shape.x)&&O(n,"x",r),2&e&&o!==(o=t[1].shape.y)&&O(n,"y",o),2&e&&i!==(i=t[1].shape.width)&&O(n,"width",i),2&e&&s!==(s=t[1].shape.height)&&O(n,"height",s),1&e&&c!==(c=t[0].stroke.strokeColor)&&O(n,"stroke",c),1&e&&a!==(a=t[0].stroke.strokeWidth)&&O(n,"stroke-width",a),1&e&&u!==(u=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null)&&O(n,"stroke-dasharray",u)},i:t,o:t,d(t){t&&v(n),l&&l.d()}}}function fo(t,e,n){let{object:r}=e,{to:o}=e,{from:i}=e;return t.$$set=t=>{"object"in t&&n(0,r=t.object),"to"in t&&n(1,o=t.to),"from"in t&&n(2,i=t.from)},[r,o,i]}const ho=class extends rt{constructor(t){super(),nt(this,t,fo,lo,i,{object:0,to:1,from:2})}};function po(t){let e,n,r,o,i,s,c,a;return{c(){e=w("animate"),r=w("animate"),i=w("animate"),c=w("animate"),O(e,"class","queue-animator"),O(e,"begin","indefinite"),O(e,"attributeName","ry"),O(e,"from",t[6]),O(e,"to",t[2]),O(e,"dur",n=`${t[1].duration}s`),O(r,"class","queue-animator"),O(r,"begin","indefinite"),O(r,"attributeName","rx"),O(r,"from",t[7]),O(r,"to",t[3]),O(r,"dur",o=`${t[1].duration}s`),O(i,"class","queue-animator"),O(i,"begin","indefinite"),O(i,"attributeName","cx"),O(i,"from",t[9]),O(i,"to",t[5]),O(i,"dur",s=`${t[1].duration}s`),O(c,"class","queue-animator"),O(c,"begin","indefinite"),O(c,"attributeName","cy"),O(c,"from",t[8]),O(c,"to",t[4]),O(c,"dur",a=`${t[1].duration}s`)},m(t,n){y(t,e,n),y(t,r,n),y(t,i,n),y(t,c,n)},p(t,u){64&u&&O(e,"from",t[6]),4&u&&O(e,"to",t[2]),2&u&&n!==(n=`${t[1].duration}s`)&&O(e,"dur",n),128&u&&O(r,"from",t[7]),8&u&&O(r,"to",t[3]),2&u&&o!==(o=`${t[1].duration}s`)&&O(r,"dur",o),512&u&&O(i,"from",t[9]),32&u&&O(i,"to",t[5]),2&u&&s!==(s=`${t[1].duration}s`)&&O(i,"dur",s),256&u&&O(c,"from",t[8]),16&u&&O(c,"to",t[4]),2&u&&a!==(a=`${t[1].duration}s`)&&O(c,"dur",a)},d(t){t&&v(e),t&&v(r),t&&v(i),t&&v(c)}}}function mo(e){let n,r,o,i,s=e[1]&&po(e);return{c(){n=w("ellipse"),s&&s.c(),O(n,"cx",e[5]),O(n,"cy",e[4]),O(n,"rx",e[3]),O(n,"ry",e[2]),O(n,"stroke",r=e[0].stroke.strokeColor),O(n,"stroke-width",o=e[0].stroke.strokeWidth),O(n,"stroke-dasharray",i=e[0].stroke.strokeDasharray.length?e[0].stroke.strokeDasharray.join(" "):null),O(n,"fill","transparent")},m(t,e){y(t,n,e),s&&s.m(n,null)},p(t,[e]){t[1]?s?s.p(t,e):(s=po(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),32&e&&O(n,"cx",t[5]),16&e&&O(n,"cy",t[4]),8&e&&O(n,"rx",t[3]),4&e&&O(n,"ry",t[2]),1&e&&r!==(r=t[0].stroke.strokeColor)&&O(n,"stroke",r),1&e&&o!==(o=t[0].stroke.strokeWidth)&&O(n,"stroke-width",o),1&e&&i!==(i=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null)&&O(n,"stroke-dasharray",i)},i:t,o:t,d(t){t&&v(n),s&&s.d()}}}function yo(t,e,n){let r,o,i,s,c,a,u,l,{object:f}=e,{to:d}=e,{from:h}=e;return t.$$set=t=>{"object"in t&&n(0,f=t.object),"to"in t&&n(10,d=t.to),"from"in t&&n(1,h=t.from)},t.$$.update=()=>{2&t.$$.dirty&&n(9,r=h?h.shape.x+h.shape.width/2:0),2&t.$$.dirty&&n(8,o=h?h.shape.y+h.shape.height/2:0),2&t.$$.dirty&&n(7,i=h?h.shape.width/2:0),2&t.$$.dirty&&n(6,s=h?h.shape.height/2:0),1024&t.$$.dirty&&n(5,c=d.shape.x+d.shape.width/2),1024&t.$$.dirty&&n(4,a=d.shape.y+d.shape.height/2),1024&t.$$.dirty&&n(3,u=d.shape.width/2),1024&t.$$.dirty&&n(2,l=d.shape.height/2)},[f,h,l,u,a,c,s,i,o,r,d]}const vo=class extends rt{constructor(t){super(),nt(this,t,yo,mo,i,{object:0,to:10,from:1})}};function bo(t){let e,n;return e=new vo({props:{object:t[0],to:t[2],from:t[1]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function go(t){let e,n;return e=new ho({props:{object:t[0],to:t[2],from:t[1]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function wo(t){let e,n;return e=new ao({props:{object:t[0],to:t[2],from:t[1]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function xo(t){let e,n;return e=new oo({props:{object:t[0],to:t[2],from:t[1],text:t[0].text}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),1&n&&(r.text=t[0].text),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function $o(t){let e,n;return e=new Qr({props:{to:t[2],from:t[1]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function ko(t){let e,n,r,o,i,s,c,a;const u=[wo,go,bo],l=[];function f(t,e){return t[0].type===Sn.RECTANGLE?0:t[0].type===Sn.TEXTAREA?1:t[0].type===Sn.CIRCLE?2:-1}~(n=f(t))&&(r=l[n]=u[n](t));let d=t[0].text&&xo(t),h=t[3]&&$o(t);return{c(){e=w("g"),r&&r.c(),o=k(),d&&d.c(),i=k(),h&&h.c(),O(e,"class","object")},m(r,u){y(r,e,u),~n&&l[n].m(e,null),m(e,o),d&&d.m(e,null),m(e,i),h&&h.m(e,null),s=!0,c||(a=j(e,"mousedown",t[6]),c=!0)},p(t,[s]){let c=n;n=f(t),n===c?~n&&l[n].p(t,s):(r&&(K(),V(l[c],1,1,(()=>{l[c]=null})),Q()),~n?(r=l[n],r?r.p(t,s):(r=l[n]=u[n](t),r.c()),G(r,1),r.m(e,o)):r=null),t[0].text?d?(d.p(t,s),1&s&&G(d,1)):(d=xo(t),d.c(),G(d,1),d.m(e,i)):d&&(K(),V(d,1,1,(()=>{d=null})),Q()),t[3]?h?(h.p(t,s),8&s&&G(h,1)):(h=$o(t),h.c(),G(h,1),h.m(e,null)):h&&(K(),V(h,1,1,(()=>{h=null})),Q())},i(t){s||(G(r),G(d),G(h),s=!0)},o(t){V(r),V(d),V(h),s=!1},d(t){t&&v(e),~n&&l[n].d(),d&&d.d(),h&&h.d(),c=!1,a()}}}function jo(t,e,n){let r;const o=A();let{object:i}=e,{from:s}=e,{to:a}=e;const u=_n((t=>t.selectedObjects)).pipe(yr((t=>t.includes(i.uuid))));c(t,u,(t=>n(3,r=t)));const l=t=>{o("mousedown",t)};return t.$$set=t=>{"object"in t&&n(0,i=t.object),"from"in t&&n(1,s=t.from),"to"in t&&n(2,a=t.to)},[i,s,a,r,u,l,t=>l(t)]}const Oo=class extends rt{constructor(t){super(),nt(this,t,jo,ko,i,{object:0,from:1,to:2})}};function Eo(t,e,n){const r=t.slice();return r[27]=e[n],r}function _o(t,e){let n,r,o;return r=new Oo({props:{object:e[5][e[27].uuid],to:e[1][e[27].uuid]||e[27],from:e[6]?e[6][e[27].uuid]:null}}),r.$on("mousedown",(function(...t){return e[19](e[27],...t)})),{key:t,first:null,c(){n=k(),Z(r.$$.fragment),this.first=n},m(t,e){y(t,n,e),tt(r,t,e),o=!0},p(t,n){e=t;const o={};40&n&&(o.object=e[5][e[27].uuid]),10&n&&(o.to=e[1][e[27].uuid]||e[27]),72&n&&(o.from=e[6]?e[6][e[27].uuid]:null),r.$set(o)},i(t){o||(G(r.$$.fragment,t),o=!0)},o(t){V(r.$$.fragment,t),o=!1},d(t){t&&v(n),et(r,t)}}}function So(t){let e,n,r,o,i,s;return{c(){e=w("g"),n=w("rect"),O(n,"x",r=t[7].x),O(n,"y",o=t[7].y),O(n,"width",i=t[7].width),O(n,"height",s=t[7].height),O(n,"stroke","black"),O(n,"stroke-width","1"),O(n,"fill-opacity","25%"),O(n,"fill","black"),O(e,"class","range-selector")},m(t,r){y(t,e,r),m(e,n)},p(t,e){128&e&&r!==(r=t[7].x)&&O(n,"x",r),128&e&&o!==(o=t[7].y)&&O(n,"y",o),128&e&&i!==(i=t[7].width)&&O(n,"width",i),128&e&&s!==(s=t[7].height)&&O(n,"height",s)},d(t){t&&v(e)}}}function Po(t){let e,n,r,o,i,s,c,a,u=[],l=new Map,f=t[3].objects;const d=t=>t[27].uuid;for(let e=0;e<f.length;e+=1){let n=Eo(t,f,e),r=d(n);l.set(r,u[e]=_o(r,n))}let h=t[7]&&So(t);return{c(){e=g("div"),n=g("div"),r=g("div"),o=w("svg");for(let t=0;t<u.length;t+=1)u[t].c();i=k(),h&&h.c(),O(o,"id","svg"),O(o,"class","page svelte-11rq80k"),S(o,"width",t[4].rect.width+"px"),S(o,"height",t[4].rect.height+"px"),O(r,"id","frame"),O(r,"class","svelte-11rq80k"),O(n,"id","scaler"),S(n,"transform","scale("+t[2]+")"),O(n,"class","svelte-11rq80k"),O(e,"id","editor"),O(e,"class","svelte-11rq80k")},m(l,f){y(l,e,f),m(e,n),m(n,r),m(r,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);m(o,i),h&&h.m(o,null),t[20](o),s=!0,c||(a=j(o,"mousedown",t[21]),c=!0)},p(t,[e]){262250&e&&(f=t[3].objects,K(),u=function(t,e,n,r,o,i,s,c,a,u,l,f){let d=t.length,h=i.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const y=[],v=new Map,b=new Map;for(p=h;p--;){const t=f(o,i,p),r=n(t);let c=s.get(r);c?c.p(t,e):(c=u(r,t),c.c()),v.set(r,y[p]=c),r in m&&b.set(r,Math.abs(p-m[r]))}const g=new Set,w=new Set;function x(t){G(t,1),t.m(c,l),s.set(t.key,t),l=t.first,h--}for(;d&&h;){const e=y[h-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,h--):v.has(o)?!s.has(r)||g.has(r)?x(e):w.has(o)?d--:b.get(r)>b.get(o)?(w.add(r),x(e)):(g.add(o),d--):(a(n,s),d--)}for(;d--;){const e=t[d];v.has(e.key)||a(e,s)}for(;h;)x(y[h-1]);return y}(u,e,d,0,t,f,l,o,J,_o,i,Eo),Q()),t[7]?h?h.p(t,e):(h=So(t),h.c(),h.m(o,null)):h&&(h.d(1),h=null),(!s||16&e)&&S(o,"width",t[4].rect.width+"px"),(!s||16&e)&&S(o,"height",t[4].rect.height+"px"),(!s||4&e)&&S(n,"transform","scale("+t[2]+")")},i(t){if(!s){for(let t=0;t<f.length;t+=1)G(u[t]);s=!0}},o(t){for(let t=0;t<u.length;t+=1)V(u[t]);s=!1},d(n){n&&v(e);for(let t=0;t<u.length;t+=1)u[t].d();h&&h.d(),t[20](null),c=!1,a()}}}function To(t,e,n){let r,o,i,s,a,u,l,f,d,h;const p=En(),m=_n((t=>t.document));c(t,m,(t=>n(4,u=t)));const y=_n((t=>t.scale));c(t,y,(t=>n(2,i=t)));const v=_n((t=>{const e={};return t.objects.forEach((t=>{e[t.uuid]=t})),e}));c(t,v,(t=>n(5,l=t)));const b=_n((t=>t.currentQueueIndex));c(t,b,(t=>n(22,r=t)));const g=_n((t=>{const e=Xn()(t).map((e=>({index:e,current:t.currentQueueIndex===e,objects:[]})));return e.forEach((e=>{const n=t.objects.filter((t=>{const n=t.effects.find((t=>"create"===t.type&&t.index<=e.index)),r=t.effects.some((t=>"delete"===t.type&&t.index<e.index));return n&&!r})).map((t=>{const n={uuid:t.uuid,type:t.type,shape:{...t.shape},duration:0},r=t.effects.slice(0).reverse(),o=r.find((t=>t.index<e.index&&"transition"===t.type)),i=r.find((t=>t.index===e.index&&"transition"===t.type));return n.shape={x:i?.x||o?.x||t.shape.x,y:i?.y||o?.y||t.shape.y,width:i?.width||o?.width||t.shape.width,height:i?.height||o?.height||t.shape.height},n.duration=.5,n}));e.objects.push(...n)})),e})),w=_n((t=>t.selectedObjects));c(t,w,(t=>n(23,o=t)));const x=new _r(null);c(t,x,(t=>n(7,d=t)));const $={},k=g.pipe(yr((t=>t.find((t=>t.current)))));c(t,k,(t=>n(3,a=t)));const j=g.pipe(yr((t=>t.find((t=>t.current)))),yr((t=>t?t.objects.reduce(((t,e)=>Object.assign(t,{[e.uuid]:e})),{}):{})));c(t,j,(t=>n(24,s=t)));const O=j.pipe(vr(),yr((([t])=>t||{})));var E,_;c(t,O,(t=>n(6,f=t))),b.pipe((void 0===_&&(_=xn),E=null!=E?E:br,pr((function(t,e){var n,r=!0;t.subscribe(new mr(e,(function(t){var o=_(t);!r&&E(n,o)||(r=!1,n=o,e.next(t))})))}))),vr()).subscribe({next:([t,e])=>{1==(t>e?t-e:e-t)&&h&&h.querySelectorAll(".queue-animator").forEach((t=>t.beginElement()))}});const S=t=>{t.stopPropagation(),t.preventDefault(),p(Dr.actions.reset());const e=t.offsetX,n=t.offsetY,r=t.clientX,o=t.clientY;var s,c,u,l;Cr(document.body,"mousemove").pipe(kr(Cr(document.body,"mouseup").pipe((s=()=>{const t=x.getValue();if(!t)return;const e=a.objects.filter((e=>e.shape.x>t.x&&e.shape.x+e.shape.width<t.x+t.width&&e.shape.y>t.y&&e.shape.y+e.shape.height<t.y+t.height)).map((t=>t.uuid));p(Dr.actions.set(e)),x.next(null)},l=He(s)?{next:s,error:c,complete:u}:s,l?pr((function(t,e){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var r=!0;t.subscribe(new mr(e,(function(t){var n;null===(n=l.next)||void 0===n||n.call(l,t),e.next(t)}),(function(){var t;r=!1,null===(t=l.complete)||void 0===t||t.call(l),e.complete()}),(function(t){var n;r=!1,null===(n=l.error)||void 0===n||n.call(l,t),e.error(t)}),(function(){var t,e;r&&(null===(t=l.unsubscribe)||void 0===t||t.call(l)),null===(e=l.finalize)||void 0===e||e.call(l)})))})):xn)))).subscribe({next:t=>{const s=(t.clientX-r)*(1/i),c=(t.clientY-o)*(1/i),a=s>=0?e:e+s,u=c>=0?n:n+c,l=Math.abs(s),f=Math.abs(c);x.next({x:a,y:u,width:l,height:f})}})},P=(t,e)=>{e.detail.preventDefault(),e.detail.stopPropagation(),o.includes(t.uuid)||p(Dr.actions.set([t.uuid]));const c=e.detail.clientX,a=e.detail.clientY,u=o.map((t=>({uuid:t,capture:s[t].shape})));o.forEach((t=>{n(1,$[t]={...s[t]},$)}));const l=t=>{const e=(t.clientX-c)*(1/i),r=(t.clientY-a)*(1/i);u.forEach((({uuid:t,capture:o})=>{const i={x:o.x+e,y:o.y+r,width:o.width,height:o.height};n(1,$[t].shape=i,$)}))},f=()=>{o.forEach((t=>{p(Cn.actions.updateTransitionOfObject({index:r,uuid:t,duration:.5,rect:$[t].shape}))})),Object.keys($).forEach((t=>delete $[t])),document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",f)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",f)};return[h,$,i,a,u,l,f,d,m,y,v,b,w,x,k,j,O,S,P,(t,e)=>P(t,e),function(t){I[t?"unshift":"push"]((()=>{h=t,n(0,h)}))},t=>S(t)]}const No=class extends rt{constructor(t){super(),nt(this,t,To,Po,i,{})}};function Ao(t,e,n){const r=t.slice();return r[21]=e[n],r}function Co(t,e,n){const r=t.slice();return r[21]=e[n],r}function qo(t){let e,n,r,o,i,s,c=Number(t[21].index)+1+"",a=t[21].type+"";return{c(){e=g("li"),n=x("#"),r=x(c),o=$(),i=x(a),s=$(),O(e,"class","list-item svelte-1v8sqwt")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,o),m(e,i),m(e,s)},p(t,e){1&e&&c!==(c=Number(t[21].index)+1+"")&&E(r,c),1&e&&a!==(a=t[21].type+"")&&E(i,a)},d(t){t&&v(e)}}}function Io(t){let e,n,r,o,i,s,c=Number(t[21].index)+1+"",a=t[21].type+"";return{c(){e=g("li"),n=x("#"),r=x(c),o=$(),i=x(a),s=$(),O(e,"class","list-item svelte-1v8sqwt")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,o),m(e,i),m(e,s)},p(t,e){2&e&&c!==(c=Number(t[21].index)+1+"")&&E(r,c),2&e&&a!==(a=t[21].type+"")&&E(i,a)},d(t){t&&v(e)}}}function Do(e){let n,o,i,s,c,a,u,l,f,d,h,p,w,x,k,E,_,S,P,T,N,A,C,q,I,D,R,L,M,z,W,F,X,U,B,H,Y,K,Q,G,V,J,Z,tt,et=e[0],nt=[];for(let t=0;t<et.length;t+=1)nt[t]=qo(Co(e,et,t));let rt=e[1],ot=[];for(let t=0;t<rt.length;t+=1)ot[t]=Io(Ao(e,rt,t));return{c(){n=g("aside"),o=g("section"),i=g("header"),i.innerHTML='<h2 class="svelte-1v8sqwt">Effects</h2>',s=$(),c=g("ol");for(let t=0;t<nt.length;t+=1)nt[t].c();a=$(),u=g("section"),l=g("header"),l.innerHTML='<h2 class="svelte-1v8sqwt">Current effects</h2> \n\t\t\t<button class="svelte-1v8sqwt">+</button>',f=$(),d=g("ol");for(let t=0;t<ot.length;t+=1)ot[t].c();h=$(),p=g("section"),w=g("header"),w.innerHTML='<h2 class="svelte-1v8sqwt">Line</h2>',x=$(),k=g("div"),E=g("div"),_=g("button"),_.textContent=" - ",S=$(),P=g("input"),N=$(),A=g("button"),A.textContent=" + ",C=$(),q=g("div"),I=g("label"),I.textContent="color",D=$(),R=g("input"),M=$(),z=g("ul"),W=g("li"),F=g("button"),F.innerHTML='<div class="dotted svelte-1v8sqwt"></div>',X=$(),U=g("li"),B=g("button"),B.innerHTML='<div class="dashed svelte-1v8sqwt"></div>',H=$(),Y=g("li"),K=g("button"),K.innerHTML='<div class="solid svelte-1v8sqwt"></div>',Q=$(),G=g("section"),G.innerHTML='<header><h2 class="svelte-1v8sqwt">fill</h2></header>',V=$(),J=g("section"),J.innerHTML='<header class="svelte-1v8sqwt"><h2 class="svelte-1v8sqwt">Font Size</h2></header>',O(c,"class","list svelte-1v8sqwt"),O(o,"class","panel-section action-list-wrapper svelte-1v8sqwt"),O(l,"class","svelte-1v8sqwt"),O(d,"class","list svelte-1v8sqwt"),O(u,"class","panel-section effect-list-wrapper svelte-1v8sqwt"),O(_,"class","svelte-1v8sqwt"),O(P,"type","number"),O(P,"name","lineWidth"),O(P,"id","lineWidth"),P.value=T=e[2].stroke.strokeWidth,O(A,"class","svelte-1v8sqwt"),O(E,"class","line-width-input-wrapper svelte-1v8sqwt"),O(I,"for","lineColorPicker"),O(R,"type","color"),O(R,"name","lineColorPicker"),O(R,"id","lineColorPicker"),R.value=L=e[2].stroke.strokeColor,O(q,"class","line-color-input-wrapper svelte-1v8sqwt"),O(k,"class","svelte-1v8sqwt"),O(F,"class","svelte-1v8sqwt"),O(W,"class","svelte-1v8sqwt"),O(B,"class","svelte-1v8sqwt"),O(U,"class","svelte-1v8sqwt"),O(K,"class","svelte-1v8sqwt"),O(Y,"class","svelte-1v8sqwt"),O(z,"class","svelte-1v8sqwt"),O(p,"class","panel-section line-wrapper svelte-1v8sqwt"),O(G,"class","panel-section fill-wrapper svelte-1v8sqwt"),O(J,"class","panel-section effect-list-wrapper svelte-1v8sqwt"),O(n,"id","object-control-panel-root")},m(t,r){y(t,n,r),m(n,o),m(o,i),m(o,s),m(o,c);for(let t=0;t<nt.length;t+=1)nt[t].m(c,null);m(n,a),m(n,u),m(u,l),m(u,f),m(u,d);for(let t=0;t<ot.length;t+=1)ot[t].m(d,null);m(n,h),m(n,p),m(p,w),m(p,x),m(p,k),m(k,E),m(E,_),m(E,S),m(E,P),m(E,N),m(E,A),m(k,C),m(k,q),m(q,I),m(q,D),m(q,R),m(p,M),m(p,z),m(z,W),m(W,F),m(z,X),m(z,U),m(U,B),m(z,H),m(z,Y),m(Y,K),m(n,Q),m(n,G),m(n,V),m(n,J),Z||(tt=[j(_,"click",e[11]),j(P,"input",e[12]),j(A,"click",e[13]),j(R,"input",e[14]),j(F,"click",e[15]),j(B,"click",e[16]),j(K,"click",e[17])],Z=!0)},p(t,[e]){if(1&e){let n;for(et=t[0],n=0;n<et.length;n+=1){const r=Co(t,et,n);nt[n]?nt[n].p(r,e):(nt[n]=qo(r),nt[n].c(),nt[n].m(c,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}if(2&e){let n;for(rt=t[1],n=0;n<rt.length;n+=1){const r=Ao(t,rt,n);ot[n]?ot[n].p(r,e):(ot[n]=Io(r),ot[n].c(),ot[n].m(d,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=rt.length}4&e&&T!==(T=t[2].stroke.strokeWidth)&&(P.value=T),4&e&&L!==(L=t[2].stroke.strokeColor)&&(R.value=L)},i:t,o:t,d(t){t&&v(n),b(nt,t),b(ot,t),Z=!1,r(tt)}}}function Ro(t,e,n){let r,o,i,s;const a=_n((t=>t.currentQueueIndex));c(t,a,(t=>n(18,r=t)));const u=En(),l=_n(Ir()).pipe(yr((t=>t[0])),to((t=>Boolean(t))));c(t,l,(t=>n(2,s=t)));const f=l.pipe(yr((t=>t.effects)));c(t,f,(t=>n(0,o=t)));const d=f.pipe(yr((t=>t.filter((t=>t.index===r)))));c(t,d,(t=>n(1,i=t)));const h=(t,e)=>{let n=0;if("string"==typeof e){const t=Number(e);n=isNaN(t)?0:t}else n=e;const r=Math.max(n,1);u(Cn.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:t.stroke.strokeColor,strokeDasharray:t.stroke.strokeDasharray,strokeWidth:r}}))},p=(t,e)=>{u(Cn.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:t.stroke.strokeColor,strokeDasharray:e,strokeWidth:t.stroke.strokeWidth}}))},m=(t,e)=>{const n=e.target;h(t,n.value)},y=(t,e)=>{((t,e)=>{u(Cn.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:e,strokeDasharray:t.stroke.strokeDasharray,strokeWidth:t.stroke.strokeWidth}}))})(t,e.target.value)};return[o,i,s,a,l,f,d,h,p,m,y,()=>h(s,s.stroke.strokeWidth-1),t=>{m(s,t)},()=>h(s,s.stroke.strokeWidth+1),t=>y(s,t),()=>p(s,[4,4]),()=>p(s,[8,8]),()=>p(s,[])]}const Lo=class extends rt{constructor(t){super(),nt(this,t,Ro,Do,i,{})}};function Mo(t){let e,n;return e=new rr({}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function zo(t){let e,n,r,o,i,s;return n=new hr({}),i=new No({}),{c(){e=g("div"),Z(n.$$.fragment),r=$(),o=g("div"),Z(i.$$.fragment),O(e,"id","side-bar-root"),O(e,"class","svelte-1m1h59a"),O(o,"id","editor-root"),O(o,"class","svelte-1m1h59a")},m(t,c){y(t,e,c),tt(n,e,null),y(t,r,c),y(t,o,c),tt(i,o,null),s=!0},i(t){s||(G(n.$$.fragment,t),G(i.$$.fragment,t),s=!0)},o(t){V(n.$$.fragment,t),V(i.$$.fragment,t),s=!1},d(t){t&&v(e),et(n),t&&v(r),t&&v(o),et(i)}}}function Wo(t){let e,n;return e=new Lo({}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Fo(t){let e,n,r,o,i,s,c,a,u;r=new Mn({});let l=t[0]&&Mo(),f=t[0]&&zo(),d=t[1].length&&Wo();return{c(){e=g("div"),n=g("div"),Z(r.$$.fragment),o=$(),i=g("div"),l&&l.c(),s=$(),c=g("div"),f&&f.c(),a=$(),d&&d.c(),O(n,"id","toolbar-root"),O(i,"id","subtoolbar-root"),O(c,"id","app-body"),O(c,"class","svelte-1m1h59a"),O(e,"id","app-root"),O(e,"class","svelte-1m1h59a")},m(t,h){y(t,e,h),m(e,n),tt(r,n,null),m(e,o),m(e,i),l&&l.m(i,null),m(e,s),m(e,c),f&&f.m(c,null),m(c,a),d&&d.m(c,null),u=!0},p(t,[e]){t[0]?l?1&e&&G(l,1):(l=Mo(),l.c(),G(l,1),l.m(i,null)):l&&(K(),V(l,1,1,(()=>{l=null})),Q()),t[0]?f?1&e&&G(f,1):(f=zo(),f.c(),G(f,1),f.m(c,a)):f&&(K(),V(f,1,1,(()=>{f=null})),Q()),t[1].length?d?2&e&&G(d,1):(d=Wo(),d.c(),G(d,1),d.m(c,null)):d&&(K(),V(d,1,1,(()=>{d=null})),Q())},i(t){u||(G(r.$$.fragment,t),G(l),G(f),G(d),u=!0)},o(t){V(r.$$.fragment,t),V(l),V(f),V(d),u=!1},d(t){t&&v(e),et(r),l&&l.d(),f&&f.d(),d&&d.d()}}}function Xo(t,e,n){let r,o;const i=_n((t=>t.document));c(t,i,(t=>n(0,r=t)));const s=_n(Ir());return c(t,s,(t=>n(1,o=t))),[r,o,i,s]}const Uo=class extends rt{constructor(t){super(),nt(this,t,Xo,Fo,i,{})}};function Bo(t){let e;const n=t[2].default,r=a(n,t,t[1],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[o]){r&&r.p&&(!e||2&o)&&f(r,n,t,t[1],e?l(n,t[1],o,null):d(t[1]),null)},i(t){e||(G(r,t),e=!0)},o(t){V(r,t),e=!1},d(t){r&&r.d(t)}}}function Ho(t,e,n){let{$$slots:r={},$$scope:o}=e,{store:i}=e;return function(t,e){N().$$.context.set("root-store-context",e)}(0,i),t.$$set=t=>{"store"in t&&n(0,i=t.store),"$$scope"in t&&n(1,o=t.$$scope)},[i,o,r]}const Yo=class extends rt{constructor(t){super(),nt(this,t,Ho,Bo,i,{store:0})}},Ko=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Ce);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(ke):r.push(ke.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,s=r.middleware,c=void 0===s?n():s,a=r.devTools,u=void 0===a||a,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:ye.INIT}))throw new Error(he(12));if(void 0===n(void 0,{type:ye.PROBE_UNKNOWN_ACTION()}))throw new Error(he(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},c=0;c<s.length;c++){var a=s[c],u=n[a],l=t[a],f=u(l,e);if(void 0===f)throw e&&e.type,new Error(he(14));o[a]=f,r=r||f!==l}return(r=r||s.length!==Object.keys(t).length)?o:t}}(i)}var p=c;"function"==typeof p&&(p=p(n));var m=we.apply(void 0,p),y=ge;u&&(y=Ae(Ne({trace:!1},"object"==typeof u&&u)));var v=[m];return Array.isArray(h)?v=Oe([m],h):"function"==typeof h&&(v=h(v)),be(e,f,y.apply(void 0,v))}({reducer:{document:Re.reducer,objects:Cn.reducer,scale:Bn.reducer,currentQueueIndex:Un.reducer,selectedObjects:Dr.reducer},middleware:[]});function Qo(t){let e,n;return e=new Uo({}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Go(t){let e,n;return e=new Yo({props:{store:Ko,$$slots:{default:[Qo]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}new class extends rt{constructor(t){super(),nt(this,t,null,Go,i,{})}}({target:document.body})})();
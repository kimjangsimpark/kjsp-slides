/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(){}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function u(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function a(t){return 0===Object.keys(t).length}function l(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function f(t,e,n,r){if(t){const o=d(t,e,n,r);return t[0](o)}}function d(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function h(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function p(t,e,n,r,o,i){if(o){const s=d(e,n,r,i);t.p(s,o)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),new Set;let b,y=!1;function v(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function j(){return O(" ")}function E(){return O("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function A(t,e,n){t.classList[n?"add":"remove"](e)}function N(t){b=t}function C(){if(!b)throw new Error("Function called outside component initialization");return b}function I(){const t=C();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function D(t){return C().$$.context.get(t)}new Set;const R=[],L=[],q=[],M=[],U=Promise.resolve();let z=!1;function W(t){q.push(t)}let F=!1;const X=new Set;function B(){if(!F){F=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];N(e),H(e.$$)}for(N(null),R.length=0;L.length;)L.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];X.has(e)||(X.add(e),e())}q.length=0}while(R.length);for(;M.length;)M.pop()();z=!1,F=!1,X.clear()}}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const Y=new Set;let K,Q;function G(){K={r:0,c:[],p:K}}function V(){K.r||o(K.c),K=K.p}function J(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),K.c.push((()=>{Y.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function tt(t,e){Z(t,1,1,(()=>{e.delete(t.key)}))}function et(t){t&&t.c()}function nt(t,e,r,s){const{fragment:c,on_mount:u,on_destroy:a,after_update:l}=t.$$;c&&c.m(e,r),s||W((()=>{const e=u.map(n).filter(i);a?a.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(W)}function rt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(t,n,i,s,c,u,a,l=[-1]){const f=b;N(t);const d=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:l,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let h=!1;if(d.ctx=i?i(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),h&&function(t,e){-1===t.$$.dirty[0]&&(R.push(t),z||(z=!0,U.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){y=!0;const t=(p=n.target,Array.from(p.childNodes));d.fragment&&d.fragment.l(t),t.forEach(w)}else d.fragment&&d.fragment.c();n.intro&&J(t.$$.fragment),nt(t,n.target,n.anchor,n.customElement),y=!1,B()}var p;N(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Q=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(i);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){rt(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class it{$destroy(){rt(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(t,e,n){const r=t.slice();return r[13]=e[n],r}function ct(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=at(st(t,r,e));const i=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=E()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);g(t,e,r),n=!0},p(t,n){if(250&n){let s;for(r=t[1],s=0;s<r.length;s+=1){const i=st(t,r,s);o[s]?(o[s].p(i,n),J(o[s],1)):(o[s]=at(i),o[s].c(),J(o[s],1),o[s].m(e.parentNode,e))}for(G(),s=r.length;s<o.length;s+=1)i(s);V()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)J(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){x(o,t),t&&w(e)}}}function ut(t){let e,n;return e=new dt({props:{models:t[13].children,parent:t[4]}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.models=t[13].children),16&n&&(r.parent=t[4]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function at(t){let e,n,r,i,s,c,u,a,l,f,d,h=t[13].title+"",p=t[13].children?">":"",m=t[13].children&&t[3]===t[13]&&ut(t);function b(){return t[8](t[13])}function y(){return t[9](t[13])}function x(){return t[10](t[13])}function k(...e){return t[11](t[13],...e)}return{c(){e=$("li"),n=$("div"),r=O(h),i=j(),s=$("div"),c=O(p),u=j(),m&&m.c(),a=j(),S(n,"class","tree-item-title svelte-536exw"),S(s,"class","tree-item-caret svelte-536exw"),S(e,"class","tree-item svelte-536exw")},m(t,o){g(t,e,o),v(e,n),v(n,r),v(e,i),v(e,s),v(s,c),v(e,u),m&&m.m(e,null),v(e,a),l=!0,f||(d=[_(e,"mouseover",b),_(e,"focus",y),_(e,"mouseleave",x),_(e,"click",k)],f=!0)},p(n,o){t=n,(!l||2&o)&&h!==(h=t[13].title+"")&&P(r,h),(!l||2&o)&&p!==(p=t[13].children?">":"")&&P(c,p),t[13].children&&t[3]===t[13]?m?(m.p(t,o),10&o&&J(m,1)):(m=ut(t),m.c(),J(m,1),m.m(e,a)):m&&(G(),Z(m,1,1,(()=>{m=null})),V())},i(t){l||(J(m),l=!0)},o(t){Z(m),l=!1},d(t){t&&w(e),m&&m.d(),f=!1,o(d)}}}function lt(t){let e,n,r,o,i=t[1]&&t[1].length&&ct(t);return{c(){e=$("ul"),i&&i.c(),S(e,"class",n="tree "+(t[0]||"")+" svelte-536exw"),S(e,"style",r=t[2]?`top: -5px; left: ${t[2].clientWidth-10}px`:"")},m(n,r){g(n,e,r),i&&i.m(e,null),t[12](e),o=!0},p(t,[s]){t[1]&&t[1].length?i?(i.p(t,s),2&s&&J(i,1)):(i=ct(t),i.c(),J(i,1),i.m(e,null)):i&&(G(),Z(i,1,1,(()=>{i=null})),V()),(!o||1&s&&n!==(n="tree "+(t[0]||"")+" svelte-536exw"))&&S(e,"class",n),(!o||4&s&&r!==(r=t[2]?`top: -5px; left: ${t[2].clientWidth-10}px`:""))&&S(e,"style",r)},i(t){o||(J(i),o=!0)},o(t){Z(i),o=!1},d(n){n&&w(e),i&&i.d(),t[12](null)}}}function ft(t,e,n){let r,o,{class:i=""}=e,{models:s}=e,{parent:c}=e;const u=t=>{n(3,r=t)},a=t=>{n(3,r=t)},l=(t,e)=>{t.onClick&&t.onClick(e)};return t.$$set=t=>{"class"in t&&n(0,i=t.class),"models"in t&&n(1,s=t.models),"parent"in t&&n(2,c=t.parent)},[i,s,c,r,o,u,a,l,t=>u(t),t=>u(t),t=>a(t),(t,e)=>l(t,e),function(t){L[t?"unshift":"push"]((()=>{o=t,n(4,o)}))}]}class dt extends it{constructor(t){super(),ot(this,t,ft,lt,s,{class:0,models:1,parent:2})}}const ht=dt;function pt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function mt(t){return!!t&&!!t[ee]}function bt(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ne}(t)||Array.isArray(t)||!!t[te]||!!t.constructor[te]||$t(t)||kt(t))}function yt(t,e,n){void 0===n&&(n=!1),0===vt(t)?(n?Object.keys:re)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function vt(t){var e=t[ee];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:$t(t)?2:kt(t)?3:0}function gt(t,e){return 2===vt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wt(t,e,n){var r=vt(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function xt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function $t(t){return Gt&&t instanceof Map}function kt(t){return Vt&&t instanceof Set}function Ot(t){return t.o||t.t}function jt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=oe(t);delete e[ee];for(var n=re(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function Et(t,e){return void 0===e&&(e=!1),St(t)||mt(t)||!bt(t)||(vt(t)>1&&(t.set=t.add=t.clear=t.delete=_t),Object.freeze(t),e&&yt(t,(function(t,e){return Et(e,!0)}),!0)),t}function _t(){pt(2)}function St(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Pt(t){var e=ie[t];return e||pt(18,t),e}function Tt(){return Kt}function At(t,e){e&&(Pt("Patches"),t.u=[],t.s=[],t.v=e)}function Nt(t){Ct(t),t.p.forEach(Dt),t.p=null}function Ct(t){t===Kt&&(Kt=t.l)}function It(t){return Kt={p:[],l:Kt,h:t,m:!0,_:0}}function Dt(t){var e=t[ee];0===e.i||1===e.i?e.j():e.O=!0}function Rt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||Pt("ES5").S(e,t,r),r?(n[ee].P&&(Nt(e),pt(4)),bt(t)&&(t=Lt(e,t),e.l||Mt(e,t)),e.u&&Pt("Patches").M(n[ee],t,e.u,e.s)):t=Lt(e,n,[]),Nt(e),e.u&&e.v(e.u,e.s),t!==Zt?t:void 0}function Lt(t,e,n){if(St(e))return e;var r=e[ee];if(!r)return yt(e,(function(o,i){return qt(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Mt(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=jt(r.k):r.o;yt(3===r.i?new Set(o):o,(function(e,i){return qt(t,r,o,e,i,n)})),Mt(t,o,!1),n&&t.u&&Pt("Patches").R(r,n,t.u,t.s)}return r.o}function qt(t,e,n,r,o,i){if(mt(o)){var s=Lt(t,o,i&&e&&3!==e.i&&!gt(e.D,r)?i.concat(r):void 0);if(wt(n,r,s),!mt(s))return;t.m=!1}if(bt(o)&&!St(o)){if(!t.h.F&&t._<1)return;Lt(t,o),e&&e.A.l||Mt(t,o)}}function Mt(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&Et(e,n)}function Ut(t,e){var n=t[ee];return(n?Ot(n):t)[e]}function zt(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Wt(t){t.P||(t.P=!0,t.l&&Wt(t.l))}function Ft(t){t.o||(t.o=jt(t.t))}function Xt(t,e,n){var r=$t(e)?Pt("MapSet").N(e,n):kt(e)?Pt("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:Tt(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,i=se;n&&(o=[r],i=ce);var s=Proxy.revocable(o,i),c=s.revoke,u=s.proxy;return r.k=u,r.j=c,u}(e,n):Pt("ES5").J(e,n);return(n?n.A:Tt()).p.push(r),r}function Bt(t){return mt(t)||pt(22,t),function t(e){if(!bt(e))return e;var n,r=e[ee],o=vt(e);if(r){if(!r.P&&(r.i<4||!Pt("ES5").K(r)))return r.t;r.I=!0,n=Ht(e,o),r.I=!1}else n=Ht(e,o);return yt(n,(function(e,o){r&&function(t,e){return 2===vt(t)?t.get(e):t[e]}(r.t,e)===o||wt(n,e,t(o))})),3===o?new Set(n):n}(t)}function Ht(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return jt(t)}var Yt,Kt,Qt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Gt="undefined"!=typeof Map,Vt="undefined"!=typeof Set,Jt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Zt=Qt?Symbol.for("immer-nothing"):((Yt={})["immer-nothing"]=!0,Yt),te=Qt?Symbol.for("immer-draftable"):"__$immer_draftable",ee=Qt?Symbol.for("immer-state"):"__$immer_state",ne=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),re="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,oe=Object.getOwnPropertyDescriptors||function(t){var e={};return re(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},ie={},se={get:function(t,e){if(e===ee)return t;var n=Ot(t);if(!gt(n,e))return function(t,e,n){var r,o=zt(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!bt(r)?r:r===Ut(t.t,e)?(Ft(t),t.o[e]=Xt(t.A.h,r,t)):r},has:function(t,e){return e in Ot(t)},ownKeys:function(t){return Reflect.ownKeys(Ot(t))},set:function(t,e,n){var r=zt(Ot(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=Ut(Ot(t),e),i=null==o?void 0:o[ee];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(xt(n,o)&&(void 0!==n||gt(t.t,e)))return!0;Ft(t),Wt(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Ut(t.t,e)||e in t.t?(t.D[e]=!1,Ft(t),Wt(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ot(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){pt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){pt(12)}},ce={};yt(se,(function(t,e){ce[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ce.deleteProperty=function(t,e){return se.deleteProperty.call(this,t[0],e)},ce.set=function(t,e,n){return se.set.call(this,t[0],e,n,t[0])};var ue=new(function(){function t(t){var e=this;this.g=Jt,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,s=Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(s))}))}}var s;if("function"!=typeof n&&pt(6),void 0!==r&&"function"!=typeof r&&pt(7),bt(t)){var c=It(e),u=Xt(e,t,void 0),a=!0;try{s=n(u),a=!1}finally{a?Nt(c):Ct(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(t){return At(c,r),Rt(t,c)}),(function(t){throw Nt(c),t})):(At(c,r),Rt(s,c))}if(!t||"object"!=typeof t){if((s=n(t))===Zt)return;return void 0===s&&(s=t),e.F&&Et(s,!0),s}pt(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,n,(function(t,e){r=t,o=e})),r,o];var r,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){bt(t)||pt(8),mt(t)&&(t=Bt(t));var e=It(this),n=Xt(this,t,void 0);return n[ee].C=!0,Ct(e),n},e.finishDraft=function(t,e){var n=(t&&t[ee]).A;return At(n,e),Rt(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Jt&&pt(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=Pt("Patches").$;return mt(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}()),ae=ue.produce;ue.produceWithPatches.bind(ue),ue.setAutoFreeze.bind(ue),ue.setUseProxies.bind(ue),ue.applyPatches.bind(ue),ue.createDraft.bind(ue),ue.finishDraft.bind(ue);const le=ae;function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pe(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var me="function"==typeof Symbol&&Symbol.observable||"@@observable",be=function(){return Math.random().toString(36).substring(7).split("").join(".")},ye={INIT:"@@redux/INIT"+be(),REPLACE:"@@redux/REPLACE"+be(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+be()}};function ve(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ge(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(pe(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(pe(1));return n(ge)(t,e)}if("function"!=typeof t)throw new Error(pe(2));var o=t,i=e,s=[],c=s,u=!1;function a(){c===s&&(c=s.slice())}function l(){if(u)throw new Error(pe(3));return i}function f(t){if("function"!=typeof t)throw new Error(pe(4));if(u)throw new Error(pe(5));var e=!0;return a(),c.push(t),function(){if(e){if(u)throw new Error(pe(6));e=!1,a();var n=c.indexOf(t);c.splice(n,1),s=null}}}function d(t){if(!ve(t))throw new Error(pe(7));if(void 0===t.type)throw new Error(pe(8));if(u)throw new Error(pe(9));try{u=!0,i=o(i,t)}finally{u=!1}for(var e=s=c,n=0;n<e.length;n++)(0,e[n])();return t}function h(t){if("function"!=typeof t)throw new Error(pe(10));o=t,d({type:ye.REPLACE})}function p(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(pe(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[me]=function(){return this},t}return d({type:ye.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[me]=p,r}function we(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function xe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(pe(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=we.apply(void 0,i)(n.dispatch),he(he({},n),{},{dispatch:r})}}}function $e(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var ke=$e();ke.withExtraArgument=$e;const Oe=ke;var je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},_e=Object.defineProperty,Se=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Pe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,Ae=function(t,e,n){return e in t?_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ne=function(t,e){for(var n in e||(e={}))Pe.call(e,n)&&Ae(t,n,e[n]);if(Se)for(var r=0,o=Se(e);r<o.length;r++)n=o[r],Te.call(e,n)&&Ae(t,n,e[n]);return t},Ce="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?we:we.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Ie=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return je(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Ee([void 0],t[0].concat(this)))):new(e.bind.apply(e,Ee([void 0],t.concat(this))))},e}(Array);function De(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ne(Ne({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Re(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function Le(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:le(t.initialState,(function(){})),o=t.reducers||{},i=Object.keys(o),s={},c={},u={};function a(){var e="function"==typeof t.extraReducers?Re(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,i=e[1],s=void 0===i?[]:i,u=e[2],a=void 0===u?void 0:u,l=Ne(Ne({},o),c);return function(t,e,n,r){void 0===n&&(n=[]);var o,i="function"==typeof e?Re(e):[e,n,r],s=i[0],c=i[1],u=i[2];if(function(t){return"function"==typeof t}(t))o=function(){return le(t(),(function(){}))};else{var a=le(t,(function(){}));o=function(){return a}}function l(t,e){void 0===t&&(t=o());var n=Ee([s[e.type]],c.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if(mt(t))return void 0===(r=n(t,e))?t:r;if(bt(t))return le(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=o,l}(r,l,s,a)}return i.forEach((function(t){var n,r,i=o[t],a=e+"/"+t;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,s[t]=n,c[a]=n,u[t]=r?De(a,r):De(a)})),{name:e,reducer:function(t,e){return n||(n=a()),n(t,e)},actions:u,caseReducers:s,getInitialState:function(){return n||(n=a()),n.getInitialState()}}}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[ee];return se.get(e,t)},set:function(e){var n=this[ee];se.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][ee];if(!o.P)switch(o.i){case 5:r(o)&&Wt(o);break;case 4:n(o)&&Wt(o)}}}function n(t){for(var e=t.t,n=t.k,r=re(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==ee){var s=e[i];if(void 0===s&&!gt(e,i))return!0;var c=n[i],u=c&&c[ee];if(u?u.t!==s:!xt(c,s))return!0}}var a=!!e[ee];return r.length!==re(e).length+(a?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var o={};!function(t,e){ie[t]||(ie[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=oe(n);delete i[ee];for(var s=re(i),c=0;c<s.length;c++){var u=s[c];i[u]=t(u,e||!!i[u].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:Tt(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,ee,{value:i,writable:!0}),o},S:function(t,n,o){o?mt(n)&&n[ee].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[ee];if(n){var o=n.t,i=n.k,s=n.D,c=n.i;if(4===c)yt(i,(function(e){e!==ee&&(void 0!==o[e]||gt(o,e)?s[e]||t(i[e]):(s[e]=!0,Wt(n)))})),yt(o,(function(t){void 0!==i[t]||gt(i,t)||(s[t]=!1,Wt(n))}));else if(5===c){if(r(n)&&(Wt(n),s.length=!0),i.length<o.length)for(var u=i.length;u<o.length;u++)s[u]=!1;else for(var a=o.length;a<i.length;a++)s[a]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)void 0===s[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();const qe=Le({name:"document",initialState:null,reducers:{setDocument:(t,e)=>e.payload,renameDocument:(t,e)=>{if(!t)throw new Error("Document Not Loaded");return Object.assign(Object.assign({},t),{documentName:e.payload})},resizeDocument:(t,e)=>{if(!t)throw new Error("Document Not Loaded");return Object.assign(Object.assign({},t),{rect:e.payload})}}});var Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ue(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function ze(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function We(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Xe(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function Be(t){return this instanceof Be?(this.v=t,this):new Be(t)}function He(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{!function(t){t.value instanceof Be?Promise.resolve(t.value.v).then(u,a):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function u(t){c("next",t)}function a(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ye(t){return"function"==typeof t}function Ke(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var Qe=Ke((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Ge(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=We(i),c=s.next();!c.done;c=s.next())c.value.remove(this)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(Ye(u))try{u()}catch(t){o=t instanceof Qe?t.errors:[t]}var a=this._teardowns;if(a){this._teardowns=null;try{for(var l=We(a),f=l.next();!f.done;f=l.next()){var d=f.value;try{tn(d)}catch(t){o=null!=o?o:[],t instanceof Qe?o=Xe(Xe([],Fe(o)),Fe(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Qe(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)tn(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Ge(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&Ge(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Je=Ve.EMPTY;function Ze(t){return t instanceof Ve||t&&"closed"in t&&Ye(t.remove)&&Ye(t.add)&&Ye(t.unsubscribe)}function tn(t){Ye(t)?t():t.unsubscribe()}var en=null,nn=null,rn=void 0,on=!1,sn=!1,cn={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=cn.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,Xe([],Fe(t)))},clearTimeout:function(t){var e=cn.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function un(t){cn.setTimeout((function(){if(!en)throw t;en(t)}))}function an(){}var ln=fn("C",void 0,void 0);function fn(t,e,n){return{kind:t,value:e,error:n}}var dn=null;function hn(t){if(on){var e=!dn;if(e&&(dn={errorThrown:!1,error:null}),t(),e){var n=dn,r=n.errorThrown,o=n.error;if(dn=null,r)throw o}}else t()}function pn(t){on&&dn&&(dn.errorThrown=!0,dn.error=t)}var mn=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Ze(e)&&e.add(n)):n.destination=wn,n}return Ue(e,t),e.create=function(t,e,n){return new bn(t,e,n)},e.prototype.next=function(t){this.isStopped?gn(function(t){return fn("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?gn(fn("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?gn(ln,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ve),bn=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(Ye(e))o=e;else if(e){var s;o=e.next,n=e.error,r=e.complete,i&&sn?(s=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:s=e,o=null==o?void 0:o.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return i.destination={next:o?yn(o):an,error:yn(null!=n?n:vn),complete:r?yn(r):an},i}return Ue(e,t),e}(mn);function yn(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,Xe([],Fe(e)))}catch(t){on?pn(t):un(t)}}}function vn(t){throw t}function gn(t,e){var n=nn;n&&cn.setTimeout((function(){return n(t,e)}))}var wn={closed:!0,next:an,error:vn,complete:an},xn="function"==typeof Symbol&&Symbol.observable||"@@observable";function $n(t){return t}function kn(t){return 0===t.length?$n:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var On=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof mn||function(t){return t&&Ye(t.next)&&Ye(t.error)&&Ye(t.complete)}(r)&&Ze(r)?t:new bn(t,e,n);return hn((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=jn(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==o||o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[xn]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kn(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=jn(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function jn(t){var e;return null!==(e=null!=t?t:rn)&&void 0!==e?e:Promise}const En="root-store-context";function _n(){return D(En).dispatch}function Sn(t){const e=D(En);return new On((n=>{const r=e.getState(),o=t(r);n.next(o),e.subscribe((()=>{const r=e.getState(),o=t(r);n.next(o)}))}))}var Pn,Tn,An,Nn;function Cn(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}!function(t){t.TEXTAREA="textrea",t.CIRCLE="circle",t.RECTANGLE="rectangle"}(Pn||(Pn={})),function(t){t.CREATE="create",t.FADE_IN="fade-in",t.TRANSITION="transition",t.DELETE="delete"}(Tn||(Tn={})),function(t){t.TOP="top",t.CENTER="center",t.BOTTOM="bottom"}(An||(An={})),function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}(Nn||(Nn={}));const In=Le({name:"objects",initialState:[],reducers:{setDocumentObjects:(t,e)=>e.payload,createObject:(t,e)=>{let n;switch(e.payload.type){case Pn.RECTANGLE:n={uuid:Cn(),type:e.payload.type,shape:Object.assign({},e.payload.rect),stroke:{strokeColor:"black",strokeDasharray:[],strokeWidth:3},text:{innerText:"",fontSize:30,textColor:"black",verticalAlign:An.CENTER,horizontalAlign:Nn.CENTER},effects:[{index:e.payload.index,type:Tn.CREATE}]};break;case Pn.TEXTAREA:n={uuid:Cn(),type:e.payload.type,shape:Object.assign({},e.payload.rect),stroke:{strokeColor:"black",strokeDasharray:[],strokeWidth:3},text:{innerText:"Text",fontSize:30,textColor:"black",verticalAlign:An.CENTER,horizontalAlign:Nn.CENTER},effects:[{index:e.payload.index,type:Tn.CREATE}]};break;default:throw new Error("Unsupported Object")}const r=[...t];return r.push(n),r},updateTransitionOfObject:(t,e)=>{const n=t.findIndex((t=>t.uuid===e.payload.uuid));if(-1===n)throw new Error("Object not found");const r=Object.assign(Object.assign({},t[n]),{effects:t[n].effects.map((t=>Object.assign({},t)))}),o=r.effects.findIndex((t=>t.type===Tn.CREATE&&t.index===e.payload.index)),i=r.effects.findIndex((t=>t.type===Tn.TRANSITION&&t.index===e.payload.index));if(-1!==o)r.shape=e.payload.rect;else if(-1!==i)r.effects[i]=Object.assign({type:Tn.TRANSITION,index:e.payload.index,duration:e.payload.duration},e.payload.rect);else{let t=r.effects.findIndex((t=>t.index>e.payload.index));-1===t&&(t=r.effects.length),r.effects.splice(t,0,Object.assign({type:Tn.TRANSITION,index:e.payload.index,duration:e.payload.duration},e.payload.rect))}const s=[...t];return s[n]=r,s},updateStrokeOfObject:(t,e)=>{const n=t.findIndex((t=>t.uuid===e.payload.uuid));if(-1===n)throw new Error("Object not found");const r=[...t],o=Object.assign({},t[n]);return o.stroke=Object.assign({},e.payload.stroke),r[n]=o,r}}});function Dn(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Rn(t){let n,r;return n=new ht({props:{models:t[9].children,parent:null}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),r=!0},p:e,i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){rt(n,t)}}}function Ln(t){let e,n,r,o,i,s,c,u,a=t[9].title+"",l=t[0]===t[11]&&t[9].children&&Rn(t);function f(){return t[6](t[11])}return{c(){e=$("div"),n=$("div"),r=O(a),o=j(),l&&l.c(),i=j(),S(n,"class","toolbar-item-title svelte-vba4dd"),S(e,"class","toolbar-item svelte-vba4dd"),A(e,"active",t[0]===t[11])},m(t,a){g(t,e,a),v(e,n),v(n,r),v(e,o),l&&l.m(e,null),v(e,i),s=!0,c||(u=_(e,"click",f),c=!0)},p(n,r){(t=n)[0]===t[11]&&t[9].children?l?(l.p(t,r),1&r&&J(l,1)):(l=Rn(t),l.c(),J(l,1),l.m(e,i)):l&&(G(),Z(l,1,1,(()=>{l=null})),V()),1&r&&A(e,"active",t[0]===t[11])},i(t){s||(J(l),s=!0)},o(t){Z(l),s=!1},d(t){t&&w(e),l&&l.d(),c=!1,u()}}}function qn(t){let e,n,r,o,i,s,c,u,a,l,f=(t[1]?t[1].documentName:"")+"",d=t[4],h=[];for(let e=0;e<d.length;e+=1)h[e]=Ln(Dn(t,d,e));const p=t=>Z(h[t],1,1,(()=>{h[t]=null}));return{c(){e=$("div"),n=$("div"),n.innerHTML='<svg id="icon" data-name="Layer 1" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="The Que Logo" role="img" class="svelte-vba4dd"><title>The Que Logo</title><defs><style>.cls-1 {\n            fill: #4fbe9f;\n          }\n          .cls-2 {\n            fill: #09816c;\n          }\n        </style></defs><title></title><path class="cls-1" d="M51.38,45.67h0s-.23,3.44-3.37,3.44c-2.42,0-4.07-1.84-5.61-4.24l0,0c-1-1.78-3.55-5.68-3.55-5.68-1.61-2.29-3.53-4.24-6.28-4.86a13.3,13.3,0,0,0-9.54,1.59,1.17,1.17,0,0,0-.44,1.51l.33.68a1.21,1.21,0,0,0,1.29.76,9.07,9.07,0,0,1,3.6.24c2,.46,3.52,3.2,5.28,6.35a8.47,8.47,0,0,1-3.81.93c-6.53,0-11.83-7.82-11.83-17.46s5.3-17.46,11.83-17.46,11.82,7.81,11.82,17.46a25.7,25.7,0,0,1-.34,4.17,3.74,3.74,0,0,0,1,3.23,28.69,28.69,0,0,1,3.06,3.81.92.92,0,0,0,1.54,0,21.3,21.3,0,0,0,3.15-11.18C49.58,17.36,40.5,8,29.3,8S9,17.36,9,28.91,18.1,49.82,29.3,49.82a19.6,19.6,0,0,0,5.85-.89c2.34,3.72,5.31,7.07,10,7.07C54.59,56,55,45.67,55,45.67Z"></path><path class="cls-2" d="M33.11,45.44a8.47,8.47,0,0,1-3.81.93c-3.24,0-6.17-1.92-8.3-5A1.87,1.87,0,0,0,18.17,41c-2,1.83-.32,4.36,2.4,6.76a19.58,19.58,0,0,0,14.58,1.17Z"></path><path class="cls-2" d="M32.52,44.4h0l0,0Z"></path><path class="cls-2" d="M36,50.26v0Z"></path></svg>',r=j(),o=$("div"),i=$("div"),s=$("span"),c=O(f),u=j(),a=$("div");for(let t=0;t<h.length;t+=1)h[t].c();S(n,"id","icon-container"),S(n,"class","svelte-vba4dd"),S(s,"id","title"),S(i,"id","title-container"),S(i,"class","svelte-vba4dd"),S(a,"class","toolbar-root svelte-vba4dd"),S(o,"id","toolbar-container"),S(o,"class","svelte-vba4dd"),S(e,"id","toolbar-root-container"),S(e,"class","svelte-vba4dd")},m(t,f){g(t,e,f),v(e,n),v(e,r),v(e,o),v(o,i),v(i,s),v(s,c),v(o,u),v(o,a);for(let t=0;t<h.length;t+=1)h[t].m(a,null);l=!0},p(t,[e]){if((!l||2&e)&&f!==(f=(t[1]?t[1].documentName:"")+"")&&P(c,f),49&e){let n;for(d=t[4],n=0;n<d.length;n+=1){const r=Dn(t,d,n);h[n]?(h[n].p(r,e),J(h[n],1)):(h[n]=Ln(r),h[n].c(),J(h[n],1),h[n].m(a,null))}for(G(),n=d.length;n<h.length;n+=1)p(n);V()}},i(t){if(!l){for(let t=0;t<d.length;t+=1)J(h[t]);l=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)Z(h[t]);l=!1},d(t){t&&w(e),x(h,t)}}}function Mn(t,e,n){let r,o;const i=_n(),s=Sn((t=>t.document));l(t,s,(t=>n(1,o=t)));const c=Sn((t=>t.objects));let u;l(t,c,(t=>n(7,r=t)));const a=t=>{n(0,u=u===t?void 0:t)};return[u,o,s,c,[{title:"File",children:[{title:"New Document",onClick:()=>{i(qe.actions.setDocument({documentName:"Document Name",rect:{width:1920,height:1080}})),i(In.actions.setDocumentObjects([]))}},{title:"Save Document",onClick:()=>{if(!o)return;const t=Object.assign({},o),e=Object.assign(Object.assign({},o),{objects:r}),n=JSON.stringify(e),i=new Blob([n],{type:"octet/stream"}),s=URL.createObjectURL(i),c=document.createElement("a");c.href=s,c.download=`${t.documentName}.que`,c.click(),URL.revokeObjectURL(s)}},{title:"Open Document",onClick:()=>{const t=document.createElement("input");t.type="file",t.click(),t.addEventListener("change",(e=>{try{if(!t.files)return;const e=t.files[0];if(!e)return;const n=new FileReader;n.onload=t=>{var e;const n=null===(e=t.target)||void 0===e?void 0:e.result,r=JSON.parse(n);i(qe.actions.setDocument(r)),i(In.actions.setDocumentObjects(r.objects))},n.readAsText(e)}catch(e){}}))}},{title:"item",children:[{title:"item"},{title:"item",children:[{title:"item"},{title:"item"}]}]},{title:"item",children:[{title:"item"},{title:"item"},{title:"item",children:[{title:"item"},{title:"item"}]}]},{title:"item",children:[{title:"item"},{title:"item"},{title:"item",children:[{title:"item"},{title:"item"},{title:"item"}]}]}]},{title:"Edit",children:[{title:"item"}]},{title:"View",children:[{title:"item"}]}],a,t=>a(t)]}const Un=class extends it{constructor(t){super(),ot(this,t,Mn,qn,s,{})}};function zn(t){let e,n,r,o,i;const s=t[4].default,c=f(s,t,t[3],null);return{c(){e=$("button"),c&&c.c(),S(e,"class",n="que-button-wrapper "+(t[1]?"border":"")+" "+t[0]+" svelte-g4yeaq")},m(n,s){g(n,e,s),c&&c.m(e,null),r=!0,o||(i=_(e,"click",t[5]),o=!0)},p(t,[o]){c&&c.p&&(!r||8&o)&&p(c,s,t,t[3],r?h(s,t[3],o,null):m(t[3]),null),(!r||3&o&&n!==(n="que-button-wrapper "+(t[1]?"border":"")+" "+t[0]+" svelte-g4yeaq"))&&S(e,"class",n)},i(t){r||(J(c,t),r=!0)},o(t){Z(c,t),r=!1},d(t){t&&w(e),c&&c.d(t),o=!1,i()}}}function Wn(t,e,n){let{$$slots:r={},$$scope:o}=e,{class:i=""}=e,{border:s=!1}=e;const c=I(),u=t=>{c("click",t)};return t.$$set=t=>{"class"in t&&n(0,i=t.class),"border"in t&&n(1,s=t.border),"$$scope"in t&&n(3,o=t.$$scope)},[i,s,u,o,r,t=>u(t)]}const Fn=class extends it{constructor(t){super(),ot(this,t,Wn,zn,s,{class:0,border:1})}};function Xn(){return t=>{const e=t.currentQueueIndex,n=[];let r=Math.max(e-2,0);for(;n.length<5;)n.push(r++);return n}}const Bn=Le({initialState:0,name:"queue",reducers:{next:t=>Math.max(t+1,0),set:(t,e)=>Math.max(e.payload,0),previous:t=>Math.max(t-1,0)}}),Hn=Le({name:"scale",initialState:.5,reducers:{increase:t=>t+.1,decrease:t=>Math.max(t-.1,.1)}});function Yn(t,e,n){const r=t.slice();return r[15]=e[n],r}function Kn(t){let e;return{c(){e=$("i"),S(e,"class","ri-arrow-go-back-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function Qn(t){let e;return{c(){e=$("i"),S(e,"class","ri-arrow-go-forward-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function Gn(t){let e;return{c(){e=$("i"),S(e,"class","ri-arrow-left-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function Vn(t){let e,n,r,o=(t[15]>-1?t[15]+1:"")+"";return{c(){e=$("span"),n=O(o),S(e,"class",r="que-index "+(t[15]===t[0]?"current":"")+" svelte-drfx6r")},m(t,r){g(t,e,r),v(e,n)},p(t,i){2&i&&o!==(o=(t[15]>-1?t[15]+1:"")+"")&&P(n,o),3&i&&r!==(r="que-index "+(t[15]===t[0]?"current":"")+" svelte-drfx6r")&&S(e,"class",r)},d(t){t&&w(e)}}}function Jn(t){let e,n,r;return n=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Vn]},$$scope:{ctx:t}}}),n.$on("click",(function(){return t[10](t[15])})),{c(){e=$("div"),et(n.$$.fragment),S(e,"class","subtoolbar-item svelte-drfx6r")},m(t,o){g(t,e,o),nt(n,e,null),r=!0},p(e,r){t=e;const o={};262147&r&&(o.$$scope={dirty:r,ctx:t}),n.$set(o)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){t&&w(e),rt(n)}}}function Zn(t){let e;return{c(){e=$("i"),S(e,"class","ri-arrow-right-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function tr(t){let e;return{c(){e=$("i"),S(e,"class","ri-subtract-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function er(t){let e;return{c(){e=$("i"),S(e,"class","ri-add-line")},m(t,n){g(t,e,n)},d(t){t&&w(e)}}}function nr(t){let e,n,r,o,i,s,c,u,a,l,f,d,h,p,m,b,y,k,O,E,_,P,T;o=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),c=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Qn]},$$scope:{ctx:t}}}),f=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Gn]},$$scope:{ctx:t}}}),f.$on("click",t[9]);let A=t[1],N=[];for(let e=0;e<A.length;e+=1)N[e]=Jn(Yn(t,A,e));const C=t=>Z(N[t],1,1,(()=>{N[t]=null}));return m=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[Zn]},$$scope:{ctx:t}}}),m.$on("click",t[11]),O=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[tr]},$$scope:{ctx:t}}}),O.$on("click",t[12]),P=new Fn({props:{class:"subtoolbar-button",$$slots:{default:[er]},$$scope:{ctx:t}}}),P.$on("click",t[13]),{c(){e=$("div"),n=$("div"),r=$("div"),et(o.$$.fragment),i=j(),s=$("div"),et(c.$$.fragment),u=j(),a=$("div"),l=$("div"),et(f.$$.fragment),d=j();for(let t=0;t<N.length;t+=1)N[t].c();h=j(),p=$("div"),et(m.$$.fragment),b=j(),y=$("div"),k=$("div"),et(O.$$.fragment),E=j(),_=$("div"),et(P.$$.fragment),S(r,"class","subtoolbar-item svelte-drfx6r"),S(s,"class","subtoolbar-item svelte-drfx6r"),S(n,"class","subtoolbar-button-group svelte-drfx6r"),S(l,"class","subtoolbar-item svelte-drfx6r"),S(p,"class","subtoolbar-item svelte-drfx6r"),S(a,"class","subtoolbar-button-group svelte-drfx6r"),S(k,"class","subtoolbar-item svelte-drfx6r"),S(_,"class","subtoolbar-item svelte-drfx6r"),S(y,"class","subtoolbar-button-group svelte-drfx6r"),S(e,"id","subtoolbar"),S(e,"class","svelte-drfx6r")},m(t,w){g(t,e,w),v(e,n),v(n,r),nt(o,r,null),v(n,i),v(n,s),nt(c,s,null),v(e,u),v(e,a),v(a,l),nt(f,l,null),v(a,d);for(let t=0;t<N.length;t+=1)N[t].m(a,null);v(a,h),v(a,p),nt(m,p,null),v(e,b),v(e,y),v(y,k),nt(O,k,null),v(y,E),v(y,_),nt(P,_,null),T=!0},p(t,[e]){const n={};262144&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};262144&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);const i={};if(262144&e&&(i.$$scope={dirty:e,ctx:t}),f.$set(i),67&e){let n;for(A=t[1],n=0;n<A.length;n+=1){const r=Yn(t,A,n);N[n]?(N[n].p(r,e),J(N[n],1)):(N[n]=Jn(r),N[n].c(),J(N[n],1),N[n].m(a,h))}for(G(),n=A.length;n<N.length;n+=1)C(n);V()}const s={};262144&e&&(s.$$scope={dirty:e,ctx:t}),m.$set(s);const u={};262144&e&&(u.$$scope={dirty:e,ctx:t}),O.$set(u);const l={};262144&e&&(l.$$scope={dirty:e,ctx:t}),P.$set(l)},i(t){if(!T){J(o.$$.fragment,t),J(c.$$.fragment,t),J(f.$$.fragment,t);for(let t=0;t<A.length;t+=1)J(N[t]);J(m.$$.fragment,t),J(O.$$.fragment,t),J(P.$$.fragment,t),T=!0}},o(t){Z(o.$$.fragment,t),Z(c.$$.fragment,t),Z(f.$$.fragment,t),N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)Z(N[t]);Z(m.$$.fragment,t),Z(O.$$.fragment,t),Z(P.$$.fragment,t),T=!1},d(t){t&&w(e),rt(o),rt(c),rt(f),x(N,t),rt(m),rt(O),rt(P)}}}function rr(t,e,n){let r,o;const i=_n(),s=Sn((t=>t.currentQueueIndex));l(t,s,(t=>n(0,r=t)));const c=Sn(Xn());l(t,c,(t=>n(1,o=t)));const u=()=>{i(Bn.actions.set(r-1))},a=()=>{i(Bn.actions.set(r+1))},f=t=>{i(Bn.actions.set(t))},d=()=>{i(Hn.actions.decrease())},h=()=>{i(Hn.actions.increase())};return[r,o,s,c,u,a,f,d,h,()=>u(),t=>f(t),()=>a(),()=>d(),()=>h()]}const or=class extends it{constructor(t){super(),ot(this,t,rr,nr,s,{})}},ir=t.p+"9621881f969bdd62292ff283c56b7ac5.svg",sr=t.p+"74dbf6c242a0075d31fd331fbd834213.svg",cr=t.p+"e1ae94b6a6b8f12a70e45bbff8200fb4.svg";function ur(t,e,n){const r=t.slice();return r[9]=e[n],r}function ar(t,e,n){const r=t.slice();return r[12]=e[n],r}function lr(t){let e,n,r=t[9].objects,o=[];for(let e=0;e<r.length;e+=1)o[e]=fr(ar(t,r,e));return{c(){e=$("div");for(let t=0;t<o.length;t+=1)o[t].c();n=j(),S(e,"class","object-list svelte-17k6bt5")},m(t,r){g(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);v(e,n)},p(t,i){if(1&i){let s;for(r=t[9].objects,s=0;s<r.length;s+=1){const c=ar(t,r,s);o[s]?o[s].p(c,i):(o[s]=fr(c),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(t){t&&w(e),x(o,t)}}}function fr(t){let e,n,r,o,i,s;function c(){return t[5](t[12])}return{c(){e=$("div"),n=$("img"),S(n,"class","object-preview-image svelte-17k6bt5"),u(n.src,r=t[12].previewUrl)||S(n,"src",r),S(n,"alt",o=t[12].alt),S(e,"class","object-preview-container svelte-17k6bt5")},m(t,r){g(t,e,r),v(e,n),i||(s=_(e,"click",c),i=!0)},p(e,i){t=e,1&i&&!u(n.src,r=t[12].previewUrl)&&S(n,"src",r),1&i&&o!==(o=t[12].alt)&&S(n,"alt",o)},d(t){t&&w(e),i=!1,s()}}}function dr(t){let e,n,r,o,i,s,c,u,a=t[9].name+"";function l(){return t[4](t[9])}let f=t[9].opened&&lr(t);return{c(){e=$("div"),n=$("div"),r=O(a),i=j(),f&&f.c(),s=E(),S(n,"class",o="object-group-text "+(t[9].opened?"opened":"closed")+" svelte-17k6bt5"),S(e,"class","object-group svelte-17k6bt5")},m(t,o){g(t,e,o),v(e,n),v(n,r),g(t,i,o),f&&f.m(t,o),g(t,s,o),c||(u=_(e,"click",l),c=!0)},p(e,i){t=e,1&i&&a!==(a=t[9].name+"")&&P(r,a),1&i&&o!==(o="object-group-text "+(t[9].opened?"opened":"closed")+" svelte-17k6bt5")&&S(n,"class",o),t[9].opened?f?f.p(t,i):(f=lr(t),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(t){t&&w(e),t&&w(i),f&&f.d(t),t&&w(s),c=!1,u()}}}function hr(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=dr(ur(t,r,e));return{c(){n=$("div");for(let t=0;t<o.length;t+=1)o[t].c();S(n,"id","object-panel-root"),S(n,"class","svelte-17k6bt5")},m(t,e){g(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(9&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=ur(t,r,i);o[i]?o[i].p(s,e):(o[i]=dr(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(t){t&&w(n),x(o,t)}}}function pr(t,e,n){let r,o;const i=Sn((t=>t.document));l(t,i,(t=>n(6,r=t)));const s=Sn((t=>t.currentQueueIndex));l(t,s,(t=>n(7,o=t)));const c=_n(),u=[{name:"object",opened:!0,objects:[{key:Pn.RECTANGLE,previewUrl:cr,alt:"rectangle",click:()=>{c(In.actions.createObject({index:o,type:Pn.RECTANGLE,rect:{x:r.rect.width/2-50,y:r.rect.height/2-50,height:100,width:100}}))}},{key:Pn.CIRCLE,previewUrl:sr,alt:"circle",click:()=>{}}]},{name:"text",opened:!0,objects:[{key:Pn.TEXTAREA,previewUrl:ir,alt:"textarea",click:()=>{c(In.actions.createObject({index:o,type:Pn.TEXTAREA,rect:{x:r.rect.width/2-50,y:r.rect.height/2-50,height:100,width:100}}))}}]}];function a(t){const e=u.indexOf(t),r=Object.assign({},t);r.opened=!r.opened,n(0,u[e]=r,u)}return[u,i,s,a,t=>a(t),t=>t.click()]}const mr=class extends it{constructor(t){super(),ot(this,t,pr,hr,s,{})}};function br(t){return function(e){if(function(t){return Ye(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var yr=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.onFinalize=i,s._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return Ue(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(mn);function vr(t,e){return br((function(n,r){var o=0;n.subscribe(new yr(r,(function(n){r.next(t.call(e,n,o++))})))}))}function gr(){return br((function(t,e){var n,r=!1;t.subscribe(new yr(e,(function(t){var o=n;n=t,r&&e.next([o,t]),r=!0})))}))}function wr(t,e){return t===e}var xr=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function $r(t){return Ye(null==t?void 0:t.then)}function kr(t){return Ye(t[xn])}function Or(t){return Symbol.asyncIterator&&Ye(null==t?void 0:t[Symbol.asyncIterator])}function jr(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Er="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function _r(t){return Ye(null==t?void 0:t[Er])}function Sr(t){return He(this,arguments,(function(){var e,n,r;return ze(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Be(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Be(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Be(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Pr(t){return Ye(null==t?void 0:t.getReader)}function Tr(t){if(t instanceof On)return t;if(null!=t){if(kr(t))return o=t,new On((function(t){var e=o[xn]();if(Ye(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(xr(t))return r=t,new On((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if($r(t))return e=t,new On((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,un)}));if(Or(t))return Ar(t);if(_r(t))return n=t,new On((function(t){var e,r;try{for(var o=We(n),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}t.complete()}));if(Pr(t))return Ar(Sr(t))}var e,n,r,o;throw jr(t)}function Ar(t){return new On((function(e){(function(t,e){var n,r,o,i;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}u((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var s,c;return ze(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=We(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),o={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function Nr(t){return br((function(e,n){Tr(t).subscribe(new yr(n,(function(){return n.complete()}),an)),!n.closed&&e.subscribe(n)}))}function Cr(t,e,n){var r=Ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?br((function(t,e){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var o=!0;t.subscribe(new yr(e,(function(t){var n;null===(n=r.next)||void 0===n||n.call(r,t),e.next(t)}),(function(){var t;o=!1,null===(t=r.complete)||void 0===t||t.call(r),e.complete()}),(function(t){var n;o=!1,null===(n=r.error)||void 0===n||n.call(r,t),e.error(t)}),(function(){var t,e;o&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(e=r.finalize)||void 0===e||e.call(r)})))})):$n}var Ir=Ke((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Dr=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Ue(e,t),e.prototype.lift=function(t){var e=new Rr(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ir},e.prototype.next=function(t){var e=this;hn((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=We(o),s=i.next();!s.done;s=i.next())s.value.next(t)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;hn((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;hn((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?Je:(o.push(t),new Ve((function(){return Ge(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new On;return t.source=this,t},e.create=function(t,e){return new Rr(t,e)},e}(On),Rr=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Ue(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Je},e}(Dr),Lr=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return Ue(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,r=t._value;if(e)throw n;return this._throwIfClosed(),r},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Dr);function qr(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule((function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(i),!o)return i}function Mr(t,e,n){return void 0===n&&(n=1/0),Ye(e)?Mr((function(n,r){return vr((function(t,o){return e(n,t,r,o)}))(Tr(t(n,r)))}),n):("number"==typeof e&&(n=e),br((function(e,r){return function(t,e,n,r,o,i,s,c){var u=[],a=0,l=0,f=!1,d=function(){!f||u.length||a||e.complete()},h=function(t){return a<r?p(t):u.push(t)},p=function(t){a++;var o=!1;Tr(n(t,l++)).subscribe(new yr(e,(function(t){e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{a--;for(;u.length&&a<r;)t=void 0,t=u.shift(),p(t);d()}catch(t){e.error(t)}var t})))};return t.subscribe(new yr(e,h,(function(){f=!0,d()}))),function(){}}(e,r,t,n)})))}var Ur=Array.isArray;var zr=["addListener","removeListener"],Wr=["addEventListener","removeEventListener"],Fr=["on","off"];function Xr(t,e,n,r){if(Ye(n)&&(r=n,n=void 0),r)return Xr(t,e,n).pipe(function(t){return vr((function(e){return function(t,e){return Ur(e)?t.apply(void 0,Xe([],Fe(e))):t(e)}(t,e)}))}(r));var o=Fe(function(t){return Ye(t.addEventListener)&&Ye(t.removeEventListener)}(t)?Wr.map((function(r){return function(o){return t[r](e,o,n)}})):function(t){return Ye(t.addListener)&&Ye(t.removeListener)}(t)?zr.map(Br(t,e)):function(t){return Ye(t.on)&&Ye(t.off)}(t)?Fr.map(Br(t,e)):[],2),i=o[0],s=o[1];if(!i&&xr(t))return Mr((function(t){return Xr(t,e,n)}))(Tr(t));if(!i)throw new TypeError("Invalid event target");return new On((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return i(e),function(){return s(e)}}))}function Br(t,e){return function(n){return function(r){return t[n](e,r)}}}const Hr=()=>t=>{const e=(t=>t.selectedObjects)(t),n=(t=>{const e={};return t.objects.forEach((t=>{e[t.uuid]=t})),e})(t);return e.map((t=>{if(!n[t])throw new Error(`UUID: ${t} object not found`);return n[t]}))},Yr=Le({name:"selectedObjects",initialState:[],reducers:{add:(t,e)=>{const n=[...t];return n.push(e.payload),n},remove:(t,e)=>{const n=[...t],r=n.indexOf(e.payload);return-1!==r&&n.splice(r,1),n},set:(t,e)=>[...e.payload],reset:()=>[]}});function Kr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x-oo-ro/2),S(e,"to",r=t[1].shape.x-oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y-oo-ro/2),S(o,"to",s=t[1].shape.y-oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x-oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y-oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y-oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function Qr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x+t[0].shape.width/2-ro/2),S(e,"to",r=t[1].shape.x+t[1].shape.width/2-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y-oo-ro/2),S(o,"to",s=t[1].shape.y-oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width/2-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width/2-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y-oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y-oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function Gr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x+t[0].shape.width+oo-ro/2),S(e,"to",r=t[1].shape.x+t[1].shape.width+oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y-oo-ro/2),S(o,"to",s=t[1].shape.y-oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y-oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y-oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function Vr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x+t[0].shape.width+oo-ro/2),S(e,"to",r=t[1].shape.x+t[1].shape.width+oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y+t[0].shape.height/2-oo/2),S(o,"to",s=t[1].shape.y+t[1].shape.height/2-oo/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height/2-oo/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height/2-oo/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function Jr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x+t[0].shape.width+oo-ro/2),S(e,"to",r=t[1].shape.x+t[1].shape.width+oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y+t[0].shape.height+oo-ro/2),S(o,"to",s=t[1].shape.y+t[1].shape.height+oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width+oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function Zr(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x+t[0].shape.width/2-ro/2),S(e,"to",r=t[1].shape.x+t[1].shape.width/2-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y+t[0].shape.height+oo-ro/2),S(o,"to",s=t[1].shape.y+t[1].shape.height+oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x+t[0].shape.width/2-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x+t[1].shape.width/2-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function to(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x-oo-ro/2),S(e,"to",r=t[1].shape.x-oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y+t[0].shape.height+oo-ro/2),S(o,"to",s=t[1].shape.y+t[1].shape.height+oo-ro/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x-oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height+oo-ro/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function eo(t){let e,n,r,o,i,s;return{c(){e=k("animate"),o=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","x"),S(e,"from",n=t[0].shape.x-oo-ro/2),S(e,"to",r=t[1].shape.x-oo-ro/2),S(e,"dur","0.5s"),S(o,"class","queue-animator"),S(o,"begin","indefinite"),S(o,"attributeName","y"),S(o,"from",i=t[0].shape.y+t[0].shape.height/2-oo/2),S(o,"to",s=t[1].shape.y+t[1].shape.height/2-oo/2),S(o,"dur","0.5s")},m(t,n){g(t,e,n),g(t,o,n)},p(t,c){1&c&&n!==(n=t[0].shape.x-oo-ro/2)&&S(e,"from",n),2&c&&r!==(r=t[1].shape.x-oo-ro/2)&&S(e,"to",r),1&c&&i!==(i=t[0].shape.y+t[0].shape.height/2-oo/2)&&S(o,"from",i),2&c&&s!==(s=t[1].shape.y+t[1].shape.height/2-oo/2)&&S(o,"to",s)},d(t){t&&w(e),t&&w(o)}}}function no(t){let n,r,i,s,c,u,a,l,f,d,h,p,m,b,y,v,x,$,O,E,P,T,A,N,C,I,D,R,L,q,M,U,z,W=t[0]&&Kr(t),F=t[0]&&Qr(t),X=t[0]&&Gr(t),B=t[0]&&Vr(t),H=t[0]&&Jr(t),Y=t[0]&&Zr(t),K=t[0]&&to(t),Q=t[0]&&eo(t);return{c(){n=k("rect"),W&&W.c(),s=j(),c=k("rect"),F&&F.c(),l=j(),f=k("rect"),X&&X.c(),p=j(),m=k("rect"),B&&B.c(),v=j(),x=k("rect"),H&&H.c(),E=j(),P=k("rect"),Y&&Y.c(),N=j(),C=k("rect"),K&&K.c(),R=j(),L=k("rect"),Q&&Q.c(),S(n,"class","vertex top-left svelte-1i6sclr"),S(n,"x",r=t[1].shape.x-oo-ro/2),S(n,"y",i=t[1].shape.y-oo-ro/2),S(n,"width",ro),S(n,"height",ro),S(c,"class","vertex top-middle svelte-1i6sclr"),S(c,"x",u=t[1].shape.x+t[1].shape.width/2-ro/2),S(c,"y",a=t[1].shape.y-oo-ro/2),S(c,"width",ro),S(c,"height",ro),S(f,"class","vertex top-right svelte-1i6sclr"),S(f,"x",d=t[1].shape.x+t[1].shape.width+oo-ro/2),S(f,"y",h=t[1].shape.y-oo-ro/2),S(f,"width",ro),S(f,"height",ro),S(m,"class","vertex middle-right svelte-1i6sclr"),S(m,"x",b=t[1].shape.x+t[1].shape.width+oo-ro/2),S(m,"y",y=t[1].shape.y+t[1].shape.height/2-oo/2),S(m,"width",ro),S(m,"height",ro),S(x,"class","vertex bottom-right svelte-1i6sclr"),S(x,"x",$=t[1].shape.x+t[1].shape.width+oo-ro/2),S(x,"y",O=t[1].shape.y+t[1].shape.height+oo-ro/2),S(x,"width",ro),S(x,"height",ro),S(P,"class","vertex bottom-middle svelte-1i6sclr"),S(P,"x",T=t[1].shape.x+t[1].shape.width/2-ro/2),S(P,"y",A=t[1].shape.y+t[1].shape.height+oo-ro/2),S(P,"width",ro),S(P,"height",ro),S(C,"class","vertex bottom-left svelte-1i6sclr"),S(C,"x",I=t[1].shape.x-oo-ro/2),S(C,"y",D=t[1].shape.y+t[1].shape.height+oo-ro/2),S(C,"width",ro),S(C,"height",ro),S(L,"class","vertex middle-left svelte-1i6sclr"),S(L,"x",q=t[1].shape.x-oo-ro/2),S(L,"y",M=t[1].shape.y+t[1].shape.height/2-oo/2),S(L,"width",ro),S(L,"height",ro)},m(e,r){g(e,n,r),W&&W.m(n,null),g(e,s,r),g(e,c,r),F&&F.m(c,null),g(e,l,r),g(e,f,r),X&&X.m(f,null),g(e,p,r),g(e,m,r),B&&B.m(m,null),g(e,v,r),g(e,x,r),H&&H.m(x,null),g(e,E,r),g(e,P,r),Y&&Y.m(P,null),g(e,N,r),g(e,C,r),K&&K.m(C,null),g(e,R,r),g(e,L,r),Q&&Q.m(L,null),U||(z=[_(n,"mousedown",t[5]),_(c,"mousedown",t[6]),_(f,"mousedown",t[7]),_(m,"mousedown",t[8]),_(x,"mousedown",t[9]),_(P,"mousedown",t[10]),_(C,"mousedown",t[11]),_(L,"mousedown",t[12])],U=!0)},p(t,[e]){t[0]?W?W.p(t,e):(W=Kr(t),W.c(),W.m(n,null)):W&&(W.d(1),W=null),2&e&&r!==(r=t[1].shape.x-oo-ro/2)&&S(n,"x",r),2&e&&i!==(i=t[1].shape.y-oo-ro/2)&&S(n,"y",i),t[0]?F?F.p(t,e):(F=Qr(t),F.c(),F.m(c,null)):F&&(F.d(1),F=null),2&e&&u!==(u=t[1].shape.x+t[1].shape.width/2-ro/2)&&S(c,"x",u),2&e&&a!==(a=t[1].shape.y-oo-ro/2)&&S(c,"y",a),t[0]?X?X.p(t,e):(X=Gr(t),X.c(),X.m(f,null)):X&&(X.d(1),X=null),2&e&&d!==(d=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(f,"x",d),2&e&&h!==(h=t[1].shape.y-oo-ro/2)&&S(f,"y",h),t[0]?B?B.p(t,e):(B=Vr(t),B.c(),B.m(m,null)):B&&(B.d(1),B=null),2&e&&b!==(b=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(m,"x",b),2&e&&y!==(y=t[1].shape.y+t[1].shape.height/2-oo/2)&&S(m,"y",y),t[0]?H?H.p(t,e):(H=Jr(t),H.c(),H.m(x,null)):H&&(H.d(1),H=null),2&e&&$!==($=t[1].shape.x+t[1].shape.width+oo-ro/2)&&S(x,"x",$),2&e&&O!==(O=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(x,"y",O),t[0]?Y?Y.p(t,e):(Y=Zr(t),Y.c(),Y.m(P,null)):Y&&(Y.d(1),Y=null),2&e&&T!==(T=t[1].shape.x+t[1].shape.width/2-ro/2)&&S(P,"x",T),2&e&&A!==(A=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(P,"y",A),t[0]?K?K.p(t,e):(K=to(t),K.c(),K.m(C,null)):K&&(K.d(1),K=null),2&e&&I!==(I=t[1].shape.x-oo-ro/2)&&S(C,"x",I),2&e&&D!==(D=t[1].shape.y+t[1].shape.height+oo-ro/2)&&S(C,"y",D),t[0]?Q?Q.p(t,e):(Q=eo(t),Q.c(),Q.m(L,null)):Q&&(Q.d(1),Q=null),2&e&&q!==(q=t[1].shape.x-oo-ro/2)&&S(L,"x",q),2&e&&M!==(M=t[1].shape.y+t[1].shape.height/2-oo/2)&&S(L,"y",M)},i:e,o:e,d(t){t&&w(n),W&&W.d(),t&&w(s),t&&w(c),F&&F.d(),t&&w(l),t&&w(f),X&&X.d(),t&&w(p),t&&w(m),B&&B.d(),t&&w(v),t&&w(x),H&&H.d(),t&&w(E),t&&w(P),Y&&Y.d(),t&&w(N),t&&w(C),K&&K.d(),t&&w(R),t&&w(L),Q&&Q.d(),U=!1,o(z)}}}const ro=15,oo=0;function io(t,e,n){let r,o,{from:i=null}=e,{to:s}=e;const c=_n(),u=Sn((t=>t.currentQueueIndex));l(t,u,(t=>n(13,r=t)));const a=Sn((t=>t.scale));l(t,a,(t=>n(14,o=t)));const f=(t,e,n)=>{n.preventDefault(),n.stopPropagation();const i=n.clientX,s=n.clientY,u={x:t.shape.x,y:t.shape.y,width:t.shape.width,height:t.shape.height};let a;const l=n=>{const l=(n.clientX-i)*(1/o),f=(n.clientY-s)*(1/o);switch(e){case"top-left":a={x:u.x+l,y:u.y+f,width:u.width+-l,height:u.height+-f};break;case"top-middle":a={x:u.x,y:u.y+f,width:u.width,height:u.height+-f};break;case"top-right":a={x:u.x,y:u.y+f,width:u.width+l,height:u.height+-f};break;case"middle-right":a={x:u.x,y:u.y,width:u.width+l,height:u.height};break;case"bottom-right":a={x:u.x,y:u.y,width:u.width+l,height:u.height+f};break;case"bottom-middle":a={x:u.x,y:u.y,width:u.width,height:u.height+f};break;case"bottom-left":a={x:u.x+l,y:u.y,width:u.width+-l,height:u.height+f};break;case"middle-left":a={x:u.x+l,y:u.y,width:u.width+-l,height:u.height}}c(In.actions.updateTransitionOfObject({index:r,uuid:t.uuid,duration:.5,rect:a}))},f=t=>{document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",f)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",f)};return t.$$set=t=>{"from"in t&&n(0,i=t.from),"to"in t&&n(1,s=t.to)},[i,s,u,a,f,t=>f(s,"top-left",t),t=>f(s,"top-middle",t),t=>f(s,"top-right",t),t=>f(s,"middle-right",t),t=>f(s,"bottom-right",t),t=>f(s,"bottom-middle",t),t=>f(s,"bottom-left",t),t=>f(s,"middle-left",t)]}const so=class extends it{constructor(t){super(),ot(this,t,io,no,s,{from:0,to:1})}};function co(t){return new On((function(e){Tr(t()).subscribe(e)}))}var uo=new On((function(t){return t.complete()}));function ao(t){return t<=0?function(){return uo}:br((function(e,n){var r=0;e.subscribe(new yr(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}co((()=>{const t=new Dr;return C().$$.on_mount.push((()=>{t.next()})),t.asObservable().pipe(ao(1))}));const lo=co((()=>{const t=new Dr;return C().$$.on_destroy.push((()=>{t.next()})),t.asObservable().pipe(ao(1))}));function fo(t,e){return br((function(n,r){var o=0;n.subscribe(new yr(r,(function(n){return t.call(e,n,o++)&&r.next(n)})))}))}function ho(t){let e,n,r,o,i,s,c,u,a,l,f,d,h,p,m,b;return{c(){e=k("animate"),i=k("animate"),a=k("animate"),h=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","height"),S(e,"from",n=t[1].shape.height),S(e,"to",r=t[0].shape.height),S(e,"dur",o=`${t[1].duration}s`),S(i,"class","queue-animator"),S(i,"begin","indefinite"),S(i,"attributeName","width"),S(i,"from",s=t[1].shape.width),S(i,"to",c=t[0].shape.width),S(i,"dur",u=`${t[1].duration}s`),S(a,"class","queue-animator"),S(a,"begin","indefinite"),S(a,"attributeName","x"),S(a,"from",l=t[1].shape.x),S(a,"to",f=t[0].shape.x),S(a,"dur",d=`${t[1].duration}s`),S(h,"class","queue-animator"),S(h,"begin","indefinite"),S(h,"attributeName","y"),S(h,"from",p=t[1].shape.y),S(h,"to",m=t[0].shape.y),S(h,"dur",b=`${t[1].duration}s`)},m(t,n){g(t,e,n),g(t,i,n),g(t,a,n),g(t,h,n)},p(t,y){2&y&&n!==(n=t[1].shape.height)&&S(e,"from",n),1&y&&r!==(r=t[0].shape.height)&&S(e,"to",r),2&y&&o!==(o=`${t[1].duration}s`)&&S(e,"dur",o),2&y&&s!==(s=t[1].shape.width)&&S(i,"from",s),1&y&&c!==(c=t[0].shape.width)&&S(i,"to",c),2&y&&u!==(u=`${t[1].duration}s`)&&S(i,"dur",u),2&y&&l!==(l=t[1].shape.x)&&S(a,"from",l),1&y&&f!==(f=t[0].shape.x)&&S(a,"to",f),2&y&&d!==(d=`${t[1].duration}s`)&&S(a,"dur",d),2&y&&p!==(p=t[1].shape.y)&&S(h,"from",p),1&y&&m!==(m=t[0].shape.y)&&S(h,"to",m),2&y&&b!==(b=`${t[1].duration}s`)&&S(h,"dur",b)},d(t){t&&w(e),t&&w(i),t&&w(a),t&&w(h)}}}function po(t){let n,r,i,s,c,u,a,l,f,d,h,p=t[1]&&ho(t);return{c(){n=k("foreignObject"),r=$("div"),i=$("div"),c=j(),p&&p.c(),S(i,"class","object-textarea svelte-huwdu9"),S(i,"contenteditable","true"),S(i,"spellcheck","false"),T(i,"font-size",t[2].fontSize+"px"),S(i,"value",s=t[2].innerText),S(r,"class","object-textarea-wrapper svelte-huwdu9"),T(r,"justify-content",t[5]),T(r,"text-align",t[4]),S(n,"x",u=t[0].shape.x),S(n,"y",a=t[0].shape.y),S(n,"width",l=t[0].shape.width),S(n,"height",f=t[0].shape.height),S(n,"fill","transparent")},m(e,o){g(e,n,o),v(n,r),v(r,i),t[10](i),v(r,c),p&&p.m(n,null),d||(h=[_(i,"keydown",t[11]),_(i,"mousedown",t[12])],d=!0)},p(t,[e]){4&e&&T(i,"font-size",t[2].fontSize+"px"),4&e&&s!==(s=t[2].innerText)&&S(i,"value",s),32&e&&T(r,"justify-content",t[5]),16&e&&T(r,"text-align",t[4]),t[1]?p?p.p(t,e):(p=ho(t),p.c(),p.m(n,null)):p&&(p.d(1),p=null),1&e&&u!==(u=t[0].shape.x)&&S(n,"x",u),1&e&&a!==(a=t[0].shape.y)&&S(n,"y",a),1&e&&l!==(l=t[0].shape.width)&&S(n,"width",l),1&e&&f!==(f=t[0].shape.height)&&S(n,"height",f)},i:e,o:e,d(e){e&&w(n),t[10](null),p&&p.d(),d=!1,o(h)}}}function mo(t,e,n){let r,o,{object:i}=e,{edit:s}=e,{to:c}=e,{from:u}=e,{text:a}=e;const l=_n();let f;Sn(Hr()).pipe(Nr(lo),vr((t=>t.find((({uuid:t})=>i.uuid===t)))),fo((t=>Boolean(t))),fo((()=>Boolean(f)))).subscribe({next:()=>f.focus()});const d=t=>{"Enter"===t.key&&(document.execCommand("insertLineBreak"),t.preventDefault())},h=t=>{t.stopPropagation(),l(Yr.actions.set([i.uuid]))};return t.$$set=t=>{"object"in t&&n(8,i=t.object),"edit"in t&&n(9,s=t.edit),"to"in t&&n(0,c=t.to),"from"in t&&n(1,u=t.from),"text"in t&&n(2,a=t.text)},t.$$.update=()=>{4&t.$$.dirty&&n(5,r=a.verticalAlign===An.TOP?"flex-start":a.verticalAlign===An.CENTER?"center":a.verticalAlign===An.BOTTOM?"flex-end":""),4&t.$$.dirty&&n(4,o=a.horizontalAlign===Nn.LEFT?"left":a.horizontalAlign===Nn.CENTER?"center":a.horizontalAlign===Nn.RIGHT?"right":"")},[c,u,a,f,o,r,d,h,i,s,function(t){L[t?"unshift":"push"]((()=>{f=t,n(3,f)}))},t=>d(t),t=>h(t)]}co((()=>{const t=new Dr;return C().$$.before_update.push((()=>{t.next()})),t.asObservable().pipe(Nr(lo))})),co((()=>{const t=new Dr;return C().$$.after_update.push((()=>{t.next()})),t.asObservable().pipe(Nr(lo))}));const bo=class extends it{constructor(t){super(),ot(this,t,mo,po,s,{object:8,edit:9,to:0,from:1,text:2})}};function yo(t){let e,n,r,o,i,s,c,u,a,l,f,d,h,p,m,b;return{c(){e=k("animate"),i=k("animate"),a=k("animate"),h=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","height"),S(e,"from",n=t[2].shape.height),S(e,"to",r=t[1].shape.height),S(e,"dur",o=`${t[2].duration}s`),S(i,"class","queue-animator"),S(i,"begin","indefinite"),S(i,"attributeName","width"),S(i,"from",s=t[2].shape.width),S(i,"to",c=t[1].shape.width),S(i,"dur",u=`${t[2].duration}s`),S(a,"class","queue-animator"),S(a,"begin","indefinite"),S(a,"attributeName","x"),S(a,"from",l=t[2].shape.x),S(a,"to",f=t[1].shape.x),S(a,"dur",d=`${t[2].duration}s`),S(h,"class","queue-animator"),S(h,"begin","indefinite"),S(h,"attributeName","y"),S(h,"from",p=t[2].shape.y),S(h,"to",m=t[1].shape.y),S(h,"dur",b=`${t[2].duration}s`)},m(t,n){g(t,e,n),g(t,i,n),g(t,a,n),g(t,h,n)},p(t,y){4&y&&n!==(n=t[2].shape.height)&&S(e,"from",n),2&y&&r!==(r=t[1].shape.height)&&S(e,"to",r),4&y&&o!==(o=`${t[2].duration}s`)&&S(e,"dur",o),4&y&&s!==(s=t[2].shape.width)&&S(i,"from",s),2&y&&c!==(c=t[1].shape.width)&&S(i,"to",c),4&y&&u!==(u=`${t[2].duration}s`)&&S(i,"dur",u),4&y&&l!==(l=t[2].shape.x)&&S(a,"from",l),2&y&&f!==(f=t[1].shape.x)&&S(a,"to",f),4&y&&d!==(d=`${t[2].duration}s`)&&S(a,"dur",d),4&y&&p!==(p=t[2].shape.y)&&S(h,"from",p),2&y&&m!==(m=t[1].shape.y)&&S(h,"to",m),4&y&&b!==(b=`${t[2].duration}s`)&&S(h,"dur",b)},d(t){t&&w(e),t&&w(i),t&&w(a),t&&w(h)}}}function vo(t){let n,r,o,i,s,c,u,a,l=t[2]&&yo(t);return{c(){n=k("rect"),l&&l.c(),S(n,"x",r=t[1].shape.x),S(n,"y",o=t[1].shape.y),S(n,"width",i=t[1].shape.width),S(n,"height",s=t[1].shape.height),S(n,"stroke",c=t[0].stroke.strokeColor),S(n,"stroke-width",u=t[0].stroke.strokeWidth),S(n,"stroke-dasharray",a=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null),S(n,"fill","transparent")},m(t,e){g(t,n,e),l&&l.m(n,null)},p(t,[e]){t[2]?l?l.p(t,e):(l=yo(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),2&e&&r!==(r=t[1].shape.x)&&S(n,"x",r),2&e&&o!==(o=t[1].shape.y)&&S(n,"y",o),2&e&&i!==(i=t[1].shape.width)&&S(n,"width",i),2&e&&s!==(s=t[1].shape.height)&&S(n,"height",s),1&e&&c!==(c=t[0].stroke.strokeColor)&&S(n,"stroke",c),1&e&&u!==(u=t[0].stroke.strokeWidth)&&S(n,"stroke-width",u),1&e&&a!==(a=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null)&&S(n,"stroke-dasharray",a)},i:e,o:e,d(t){t&&w(n),l&&l.d()}}}function go(t,e,n){let{object:r}=e,{to:o}=e,{from:i}=e;return t.$$set=t=>{"object"in t&&n(0,r=t.object),"to"in t&&n(1,o=t.to),"from"in t&&n(2,i=t.from)},[r,o,i]}const wo=class extends it{constructor(t){super(),ot(this,t,go,vo,s,{object:0,to:1,from:2})}};function xo(t){let e,n,r,o,i,s,c,u,a,l,f,d,h,p,m,b;return{c(){e=k("animate"),i=k("animate"),a=k("animate"),h=k("animate"),S(e,"class","queue-animator"),S(e,"begin","indefinite"),S(e,"attributeName","height"),S(e,"from",n=t[2].shape.height),S(e,"to",r=t[1].shape.height),S(e,"dur",o=`${t[2].duration}s`),S(i,"class","queue-animator"),S(i,"begin","indefinite"),S(i,"attributeName","width"),S(i,"from",s=t[2].shape.width),S(i,"to",c=t[1].shape.width),S(i,"dur",u=`${t[2].duration}s`),S(a,"class","queue-animator"),S(a,"begin","indefinite"),S(a,"attributeName","x"),S(a,"from",l=t[2].shape.x),S(a,"to",f=t[1].shape.x),S(a,"dur",d=`${t[2].duration}s`),S(h,"class","queue-animator"),S(h,"begin","indefinite"),S(h,"attributeName","y"),S(h,"from",p=t[2].shape.y),S(h,"to",m=t[1].shape.y),S(h,"dur",b=`${t[2].duration}s`)},m(t,n){g(t,e,n),g(t,i,n),g(t,a,n),g(t,h,n)},p(t,y){4&y&&n!==(n=t[2].shape.height)&&S(e,"from",n),2&y&&r!==(r=t[1].shape.height)&&S(e,"to",r),4&y&&o!==(o=`${t[2].duration}s`)&&S(e,"dur",o),4&y&&s!==(s=t[2].shape.width)&&S(i,"from",s),2&y&&c!==(c=t[1].shape.width)&&S(i,"to",c),4&y&&u!==(u=`${t[2].duration}s`)&&S(i,"dur",u),4&y&&l!==(l=t[2].shape.x)&&S(a,"from",l),2&y&&f!==(f=t[1].shape.x)&&S(a,"to",f),4&y&&d!==(d=`${t[2].duration}s`)&&S(a,"dur",d),4&y&&p!==(p=t[2].shape.y)&&S(h,"from",p),2&y&&m!==(m=t[1].shape.y)&&S(h,"to",m),4&y&&b!==(b=`${t[2].duration}s`)&&S(h,"dur",b)},d(t){t&&w(e),t&&w(i),t&&w(a),t&&w(h)}}}function $o(t){let n,r,o,i,s,c,u,a,l=t[2]&&xo(t);return{c(){n=k("rect"),l&&l.c(),S(n,"x",r=t[1].shape.x),S(n,"y",o=t[1].shape.y),S(n,"width",i=t[1].shape.width),S(n,"height",s=t[1].shape.height),S(n,"stroke",c=t[0].stroke.strokeColor),S(n,"stroke-width",u=t[0].stroke.strokeWidth),S(n,"stroke-dasharray",a=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null),S(n,"fill","transparent")},m(t,e){g(t,n,e),l&&l.m(n,null)},p(t,[e]){t[2]?l?l.p(t,e):(l=xo(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),2&e&&r!==(r=t[1].shape.x)&&S(n,"x",r),2&e&&o!==(o=t[1].shape.y)&&S(n,"y",o),2&e&&i!==(i=t[1].shape.width)&&S(n,"width",i),2&e&&s!==(s=t[1].shape.height)&&S(n,"height",s),1&e&&c!==(c=t[0].stroke.strokeColor)&&S(n,"stroke",c),1&e&&u!==(u=t[0].stroke.strokeWidth)&&S(n,"stroke-width",u),1&e&&a!==(a=t[0].stroke.strokeDasharray.length?t[0].stroke.strokeDasharray.join(" "):null)&&S(n,"stroke-dasharray",a)},i:e,o:e,d(t){t&&w(n),l&&l.d()}}}function ko(t,e,n){let{object:r}=e,{to:o}=e,{from:i}=e;return t.$$set=t=>{"object"in t&&n(0,r=t.object),"to"in t&&n(1,o=t.to),"from"in t&&n(2,i=t.from)},[r,o,i]}const Oo=class extends it{constructor(t){super(),ot(this,t,ko,$o,s,{object:0,to:1,from:2})}};function jo(t){let e,n;return e=new Oo({props:{object:t[0],to:t[2],from:t[1]}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function Eo(t){let e,n;return e=new wo({props:{object:t[0],to:t[2],from:t[1]}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function _o(t){let e,n;return e=new bo({props:{object:t[0],to:t[2],from:t[1],text:t[0].text,edit:!0}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.object=t[0]),4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),1&n&&(r.text=t[0].text),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function So(t){let e,n;return e=new so({props:{to:t[2],from:t[1]}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.to=t[2]),2&n&&(r.from=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function Po(t){let e,n,r,o,i,s,c,u;const a=[Eo,jo],l=[];function f(t,e){return t[0].type===Pn.RECTANGLE?0:t[0].type===Pn.TEXTAREA?1:-1}~(n=f(t))&&(r=l[n]=a[n](t));let d=t[0].text&&_o(t),h=t[3]&&So(t);return{c(){e=k("g"),r&&r.c(),o=E(),d&&d.c(),i=E(),h&&h.c(),S(e,"class","object")},m(r,a){g(r,e,a),~n&&l[n].m(e,null),v(e,o),d&&d.m(e,null),v(e,i),h&&h.m(e,null),s=!0,c||(u=_(e,"mousedown",t[6]),c=!0)},p(t,[s]){let c=n;n=f(t),n===c?~n&&l[n].p(t,s):(r&&(G(),Z(l[c],1,1,(()=>{l[c]=null})),V()),~n?(r=l[n],r?r.p(t,s):(r=l[n]=a[n](t),r.c()),J(r,1),r.m(e,o)):r=null),t[0].text?d?(d.p(t,s),1&s&&J(d,1)):(d=_o(t),d.c(),J(d,1),d.m(e,i)):d&&(G(),Z(d,1,1,(()=>{d=null})),V()),t[3]?h?(h.p(t,s),8&s&&J(h,1)):(h=So(t),h.c(),J(h,1),h.m(e,null)):h&&(G(),Z(h,1,1,(()=>{h=null})),V())},i(t){s||(J(r),J(d),J(h),s=!0)},o(t){Z(r),Z(d),Z(h),s=!1},d(t){t&&w(e),~n&&l[n].d(),d&&d.d(),h&&h.d(),c=!1,u()}}}function To(t,e,n){let r;const o=I();let{object:i}=e,{from:s}=e,{to:c}=e;const u=Sn((t=>t.selectedObjects)).pipe(vr((t=>t.includes(i.uuid))));l(t,u,(t=>n(3,r=t)));const a=t=>{o("mousedown",t)};return t.$$set=t=>{"object"in t&&n(0,i=t.object),"from"in t&&n(1,s=t.from),"to"in t&&n(2,c=t.to)},[i,s,c,r,u,a,t=>a(t)]}const Ao=class extends it{constructor(t){super(),ot(this,t,To,Po,s,{object:0,from:1,to:2})}};function No(t,e,n){const r=t.slice();return r[27]=e[n],r}function Co(t,e){let n,r,o;return r=new Ao({props:{object:e[5][e[27].uuid],to:e[1][e[27].uuid]||e[27],from:e[6]?e[6][e[27].uuid]:null}}),r.$on("mousedown",(function(...t){return e[19](e[27],...t)})),{key:t,first:null,c(){n=E(),et(r.$$.fragment),this.first=n},m(t,e){g(t,n,e),nt(r,t,e),o=!0},p(t,n){e=t;const o={};40&n&&(o.object=e[5][e[27].uuid]),10&n&&(o.to=e[1][e[27].uuid]||e[27]),72&n&&(o.from=e[6]?e[6][e[27].uuid]:null),r.$set(o)},i(t){o||(J(r.$$.fragment,t),o=!0)},o(t){Z(r.$$.fragment,t),o=!1},d(t){t&&w(n),rt(r,t)}}}function Io(t){let e,n,r,o,i,s;return{c(){e=k("g"),n=k("rect"),S(n,"x",r=t[7].x),S(n,"y",o=t[7].y),S(n,"width",i=t[7].width),S(n,"height",s=t[7].height),S(n,"stroke","black"),S(n,"stroke-width","1"),S(n,"fill-opacity","25%"),S(n,"fill","black"),S(e,"class","range-selector")},m(t,r){g(t,e,r),v(e,n)},p(t,e){128&e&&r!==(r=t[7].x)&&S(n,"x",r),128&e&&o!==(o=t[7].y)&&S(n,"y",o),128&e&&i!==(i=t[7].width)&&S(n,"width",i),128&e&&s!==(s=t[7].height)&&S(n,"height",s)},d(t){t&&w(e)}}}function Do(t){let e,n,r,o,i,s,c,u,a=[],l=new Map,f=t[3].objects;const d=t=>t[27].uuid;for(let e=0;e<f.length;e+=1){let n=No(t,f,e),r=d(n);l.set(r,a[e]=Co(r,n))}let h=t[7]&&Io(t);return{c(){e=$("div"),n=$("div"),r=$("div"),o=k("svg");for(let t=0;t<a.length;t+=1)a[t].c();i=E(),h&&h.c(),S(o,"id","svg"),S(o,"class","page svelte-11rq80k"),T(o,"width",t[4].rect.width+"px"),T(o,"height",t[4].rect.height+"px"),S(r,"id","frame"),S(r,"class","svelte-11rq80k"),S(n,"id","scaler"),T(n,"transform","scale("+t[2]+")"),S(n,"class","svelte-11rq80k"),S(e,"id","editor"),S(e,"class","svelte-11rq80k")},m(l,f){g(l,e,f),v(e,n),v(n,r),v(r,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);v(o,i),h&&h.m(o,null),t[20](o),s=!0,c||(u=_(o,"mousedown",t[21]),c=!0)},p(t,[e]){262250&e&&(f=t[3].objects,G(),a=function(t,e,n,r,o,i,s,c,u,a,l,f){let d=t.length,h=i.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const b=[],y=new Map,v=new Map;for(p=h;p--;){const t=f(o,i,p),r=n(t);let c=s.get(r);c?c.p(t,e):(c=a(r,t),c.c()),y.set(r,b[p]=c),r in m&&v.set(r,Math.abs(p-m[r]))}const g=new Set,w=new Set;function x(t){J(t,1),t.m(c,l),s.set(t.key,t),l=t.first,h--}for(;d&&h;){const e=b[h-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,h--):y.has(o)?!s.has(r)||g.has(r)?x(e):w.has(o)?d--:v.get(r)>v.get(o)?(w.add(r),x(e)):(g.add(o),d--):(u(n,s),d--)}for(;d--;){const e=t[d];y.has(e.key)||u(e,s)}for(;h;)x(b[h-1]);return b}(a,e,d,0,t,f,l,o,tt,Co,i,No),V()),t[7]?h?h.p(t,e):(h=Io(t),h.c(),h.m(o,null)):h&&(h.d(1),h=null),(!s||16&e)&&T(o,"width",t[4].rect.width+"px"),(!s||16&e)&&T(o,"height",t[4].rect.height+"px"),(!s||4&e)&&T(n,"transform","scale("+t[2]+")")},i(t){if(!s){for(let t=0;t<f.length;t+=1)J(a[t]);s=!0}},o(t){for(let t=0;t<a.length;t+=1)Z(a[t]);s=!1},d(n){n&&w(e);for(let t=0;t<a.length;t+=1)a[t].d();h&&h.d(),t[20](null),c=!1,u()}}}function Ro(t,e,n){let r,o,i,s,c,u,a,f,d,h;const p=_n(),m=Sn((t=>t.document));l(t,m,(t=>n(4,u=t)));const b=Sn((t=>t.scale));l(t,b,(t=>n(2,i=t)));const y=Sn((t=>{const e={};return t.objects.forEach((t=>{e[t.uuid]=t})),e}));l(t,y,(t=>n(5,a=t)));const v=Sn((t=>t.currentQueueIndex));l(t,v,(t=>n(22,r=t)));const g=Sn((t=>{const e=Xn()(t).map((e=>({index:e,current:t.currentQueueIndex===e,objects:[]})));return e.forEach((e=>{const n=t.objects.filter((t=>{const n=t.effects.find((t=>"create"===t.type&&t.index<=e.index)),r=t.effects.some((t=>"delete"===t.type&&t.index<e.index));return n&&!r})).map((t=>{const n={uuid:t.uuid,type:t.type,shape:Object.assign({},t.shape),duration:0},r=t.effects.slice(0).reverse(),o=r.find((t=>t.index<e.index&&"transition"===t.type)),i=r.find((t=>t.index===e.index&&"transition"===t.type));return n.shape={x:(null==i?void 0:i.x)||(null==o?void 0:o.x)||t.shape.x,y:(null==i?void 0:i.y)||(null==o?void 0:o.y)||t.shape.y,width:(null==i?void 0:i.width)||(null==o?void 0:o.width)||t.shape.width,height:(null==i?void 0:i.height)||(null==o?void 0:o.height)||t.shape.height},n.duration=.5,n}));e.objects.push(...n)})),e})),w=Sn((t=>t.selectedObjects));l(t,w,(t=>n(23,o=t)));const x=new Lr(null);l(t,x,(t=>n(7,d=t)));const $={},k=g.pipe(vr((t=>t.find((t=>t.current)))));l(t,k,(t=>n(3,c=t)));const O=g.pipe(vr((t=>t.find((t=>t.current)))),vr((t=>t?t.objects.reduce(((t,e)=>Object.assign(t,{[e.uuid]:e})),{}):{})));l(t,O,(t=>n(24,s=t)));const j=O.pipe(gr(),vr((([t])=>t||{})));var E,_;l(t,j,(t=>n(6,f=t))),v.pipe((void 0===_&&(_=$n),E=null!=E?E:wr,br((function(t,e){var n,r=!0;t.subscribe(new yr(e,(function(t){var o=_(t);!r&&E(n,o)||(r=!1,n=o,e.next(t))})))}))),gr()).subscribe({next:([t,e])=>{1==(t>e?t-e:e-t)&&h&&h.querySelectorAll(".queue-animator").forEach((t=>t.beginElement()))}});const S=t=>{t.stopPropagation(),t.preventDefault(),p(Yr.actions.reset());const e=t.offsetX,n=t.offsetY,r=t.clientX,o=t.clientY;Xr(document.body,"mousemove").pipe(Nr(Xr(document.body,"mouseup").pipe(Cr((()=>{const t=x.getValue();if(!t)return;const e=c.objects.filter((e=>e.shape.x>t.x&&e.shape.x+e.shape.width<t.x+t.width&&e.shape.y>t.y&&e.shape.y+e.shape.height<t.y+t.height)).map((t=>t.uuid));p(Yr.actions.set(e)),x.next(null)}))))).subscribe({next:t=>{const s=(t.clientX-r)*(1/i),c=(t.clientY-o)*(1/i),u=s>=0?e:e+s,a=c>=0?n:n+c,l=Math.abs(s),f=Math.abs(c);x.next({x:u,y:a,width:l,height:f})}})},P=(t,e)=>{e.detail.preventDefault(),e.detail.stopPropagation(),o.includes(t.uuid)||p(Yr.actions.set([t.uuid]));const c=e.detail.clientX,u=e.detail.clientY,a=o.map((t=>({uuid:t,capture:s[t].shape})));o.forEach((t=>{n(1,$[t]=Object.assign({},s[t]),$)}));const l=t=>{const e=(t.clientX-c)*(1/i),r=(t.clientY-u)*(1/i);a.forEach((({uuid:t,capture:o})=>{const i={x:o.x+e,y:o.y+r,width:o.width,height:o.height};n(1,$[t].shape=i,$)}))},f=()=>{o.forEach((t=>{p(In.actions.updateTransitionOfObject({index:r,uuid:t,duration:.5,rect:$[t].shape}))})),Object.keys($).forEach((t=>delete $[t])),document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",f)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",f)};return[h,$,i,c,u,a,f,d,m,b,y,v,w,x,k,O,j,S,P,(t,e)=>P(t,e),function(t){L[t?"unshift":"push"]((()=>{h=t,n(0,h)}))},t=>S(t)]}const Lo=class extends it{constructor(t){super(),ot(this,t,Ro,Do,s,{})}};function qo(t,e,n){const r=t.slice();return r[21]=e[n],r}function Mo(t,e,n){const r=t.slice();return r[21]=e[n],r}function Uo(t){let e,n,r,o,i,s,c=Number(t[21].index)+1+"",u=t[21].type+"";return{c(){e=$("li"),n=O("#"),r=O(c),o=j(),i=O(u),s=j(),S(e,"class","list-item svelte-db5rn9")},m(t,c){g(t,e,c),v(e,n),v(e,r),v(e,o),v(e,i),v(e,s)},p(t,e){1&e&&c!==(c=Number(t[21].index)+1+"")&&P(r,c),1&e&&u!==(u=t[21].type+"")&&P(i,u)},d(t){t&&w(e)}}}function zo(t){let e,n,r,o,i,s,c=Number(t[21].index)+1+"",u=t[21].type+"";return{c(){e=$("li"),n=O("#"),r=O(c),o=j(),i=O(u),s=j(),S(e,"class","list-item svelte-db5rn9")},m(t,c){g(t,e,c),v(e,n),v(e,r),v(e,o),v(e,i),v(e,s)},p(t,e){2&e&&c!==(c=Number(t[21].index)+1+"")&&P(r,c),2&e&&u!==(u=t[21].type+"")&&P(i,u)},d(t){t&&w(e)}}}function Wo(t){let n,r,i,s,c,u,a,l,f,d,h,p,m,b,y,k,O,E,P,T,A,N,C,I,D,R,L,q,M,U,z,W,F,X,B,H,Y,K,Q,G,V,J,Z,tt,et=t[0],nt=[];for(let e=0;e<et.length;e+=1)nt[e]=Uo(Mo(t,et,e));let rt=t[1],ot=[];for(let e=0;e<rt.length;e+=1)ot[e]=zo(qo(t,rt,e));return{c(){n=$("aside"),r=$("section"),i=$("header"),i.innerHTML='<h2 class="svelte-db5rn9">Effects</h2>',s=j(),c=$("ol");for(let t=0;t<nt.length;t+=1)nt[t].c();u=j(),a=$("section"),l=$("header"),l.innerHTML='<h2 class="svelte-db5rn9">Current effects</h2> \n      <button class="svelte-db5rn9">+</button>',f=j(),d=$("ol");for(let t=0;t<ot.length;t+=1)ot[t].c();h=j(),p=$("section"),m=$("header"),m.innerHTML='<h2 class="svelte-db5rn9">Line</h2>',b=j(),y=$("div"),k=$("div"),O=$("button"),O.textContent="-",E=j(),P=$("input"),A=j(),N=$("button"),N.textContent="+",C=j(),I=$("div"),D=$("label"),D.textContent="color",R=j(),L=$("input"),M=j(),U=$("ul"),z=$("li"),W=$("button"),W.innerHTML='<div class="dotted svelte-db5rn9"></div>',F=j(),X=$("li"),B=$("button"),B.innerHTML='<div class="dashed svelte-db5rn9"></div>',H=j(),Y=$("li"),K=$("button"),K.innerHTML='<div class="solid svelte-db5rn9"></div>',Q=j(),G=$("section"),G.innerHTML='<header class="svelte-db5rn9"><h2 class="svelte-db5rn9">fill</h2></header>',V=j(),J=$("section"),J.innerHTML='<header class="svelte-db5rn9"><h2 class="svelte-db5rn9">Font Size</h2></header>',S(i,"class","svelte-db5rn9"),S(c,"class","list svelte-db5rn9"),S(r,"class","panel-section action-list-wrapper svelte-db5rn9"),S(l,"class","svelte-db5rn9"),S(d,"class","list svelte-db5rn9"),S(a,"class","panel-section effect-list-wrapper svelte-db5rn9"),S(m,"class","svelte-db5rn9"),S(O,"class","svelte-db5rn9"),S(P,"type","number"),S(P,"name","lineWidth"),S(P,"id","lineWidth"),P.value=T=t[2].stroke.strokeWidth,S(N,"class","svelte-db5rn9"),S(k,"class","line-width-input-wrapper svelte-db5rn9"),S(D,"for","lineColorPicker"),S(L,"type","color"),S(L,"name","lineColorPicker"),S(L,"id","lineColorPicker"),L.value=q=t[2].stroke.strokeColor,S(I,"class","line-color-input-wrapper svelte-db5rn9"),S(y,"class","svelte-db5rn9"),S(W,"class","svelte-db5rn9"),S(z,"class","svelte-db5rn9"),S(B,"class","svelte-db5rn9"),S(X,"class","svelte-db5rn9"),S(K,"class","svelte-db5rn9"),S(Y,"class","svelte-db5rn9"),S(U,"class","svelte-db5rn9"),S(p,"class","panel-section line-wrapper svelte-db5rn9"),S(G,"class","panel-section fill-wrapper svelte-db5rn9"),S(J,"class","panel-section effect-list-wrapper svelte-db5rn9"),S(n,"id","object-control-panel-root"),S(n,"class","svelte-db5rn9")},m(e,o){g(e,n,o),v(n,r),v(r,i),v(r,s),v(r,c);for(let t=0;t<nt.length;t+=1)nt[t].m(c,null);v(n,u),v(n,a),v(a,l),v(a,f),v(a,d);for(let t=0;t<ot.length;t+=1)ot[t].m(d,null);v(n,h),v(n,p),v(p,m),v(p,b),v(p,y),v(y,k),v(k,O),v(k,E),v(k,P),v(k,A),v(k,N),v(y,C),v(y,I),v(I,D),v(I,R),v(I,L),v(p,M),v(p,U),v(U,z),v(z,W),v(U,F),v(U,X),v(X,B),v(U,H),v(U,Y),v(Y,K),v(n,Q),v(n,G),v(n,V),v(n,J),Z||(tt=[_(O,"click",t[11]),_(P,"input",t[12]),_(N,"click",t[13]),_(L,"input",t[14]),_(W,"click",t[15]),_(B,"click",t[16]),_(K,"click",t[17])],Z=!0)},p(t,[e]){if(1&e){let n;for(et=t[0],n=0;n<et.length;n+=1){const r=Mo(t,et,n);nt[n]?nt[n].p(r,e):(nt[n]=Uo(r),nt[n].c(),nt[n].m(c,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}if(2&e){let n;for(rt=t[1],n=0;n<rt.length;n+=1){const r=qo(t,rt,n);ot[n]?ot[n].p(r,e):(ot[n]=zo(r),ot[n].c(),ot[n].m(d,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=rt.length}4&e&&T!==(T=t[2].stroke.strokeWidth)&&(P.value=T),4&e&&q!==(q=t[2].stroke.strokeColor)&&(L.value=q)},i:e,o:e,d(t){t&&w(n),x(nt,t),x(ot,t),Z=!1,o(tt)}}}function Fo(t,e,n){let r,o,i,s;const c=Sn((t=>t.currentQueueIndex));l(t,c,(t=>n(18,r=t)));const u=_n(),a=Sn(Hr()).pipe(vr((t=>t[0])),fo((t=>Boolean(t))));l(t,a,(t=>n(2,s=t)));const f=a.pipe(vr((t=>t.effects)));l(t,f,(t=>n(0,o=t)));const d=f.pipe(vr((t=>t.filter((t=>t.index===r)))));l(t,d,(t=>n(1,i=t)));const h=(t,e)=>{let n=0;if("string"==typeof e){const t=Number(e);n=isNaN(t)?0:t}else n=e;const r=Math.max(n,1);u(In.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:t.stroke.strokeColor,strokeDasharray:t.stroke.strokeDasharray,strokeWidth:r}}))},p=(t,e)=>{u(In.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:t.stroke.strokeColor,strokeDasharray:e,strokeWidth:t.stroke.strokeWidth}}))},m=(t,e)=>{const n=e.target;h(t,n.value)},b=(t,e)=>{((t,e)=>{u(In.actions.updateStrokeOfObject({uuid:t.uuid,stroke:{strokeColor:e,strokeDasharray:t.stroke.strokeDasharray,strokeWidth:t.stroke.strokeWidth}}))})(t,e.target.value)};return[o,i,s,c,a,f,d,h,p,m,b,()=>h(s,s.stroke.strokeWidth-1),t=>{m(s,t)},()=>h(s,s.stroke.strokeWidth+1),t=>b(s,t),()=>p(s,[4,4]),()=>p(s,[8,8]),()=>p(s,[])]}const Xo=class extends it{constructor(t){super(),ot(this,t,Fo,Wo,s,{})}};function Bo(t){let e,n;return e=new or({}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function Ho(t){let e,n,r,o,i,s;return n=new mr({}),i=new Lo({}),{c(){e=$("div"),et(n.$$.fragment),r=j(),o=$("div"),et(i.$$.fragment),S(e,"id","side-bar-root"),S(e,"class","svelte-1m1h59a"),S(o,"id","editor-root"),S(o,"class","svelte-1m1h59a")},m(t,c){g(t,e,c),nt(n,e,null),g(t,r,c),g(t,o,c),nt(i,o,null),s=!0},i(t){s||(J(n.$$.fragment,t),J(i.$$.fragment,t),s=!0)},o(t){Z(n.$$.fragment,t),Z(i.$$.fragment,t),s=!1},d(t){t&&w(e),rt(n),t&&w(r),t&&w(o),rt(i)}}}function Yo(t){let e,n;return e=new Xo({}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function Ko(t){let e,n,r,o,i,s,c,u,a;r=new Un({});let l=t[0]&&Bo(),f=t[0]&&Ho(),d=t[1].length&&Yo();return{c(){e=$("div"),n=$("div"),et(r.$$.fragment),o=j(),i=$("div"),l&&l.c(),s=j(),c=$("div"),f&&f.c(),u=j(),d&&d.c(),S(n,"id","toolbar-root"),S(i,"id","subtoolbar-root"),S(c,"id","app-body"),S(c,"class","svelte-1m1h59a"),S(e,"id","app-root"),S(e,"class","svelte-1m1h59a")},m(t,h){g(t,e,h),v(e,n),nt(r,n,null),v(e,o),v(e,i),l&&l.m(i,null),v(e,s),v(e,c),f&&f.m(c,null),v(c,u),d&&d.m(c,null),a=!0},p(t,[e]){t[0]?l?1&e&&J(l,1):(l=Bo(),l.c(),J(l,1),l.m(i,null)):l&&(G(),Z(l,1,1,(()=>{l=null})),V()),t[0]?f?1&e&&J(f,1):(f=Ho(),f.c(),J(f,1),f.m(c,u)):f&&(G(),Z(f,1,1,(()=>{f=null})),V()),t[1].length?d?2&e&&J(d,1):(d=Yo(),d.c(),J(d,1),d.m(c,null)):d&&(G(),Z(d,1,1,(()=>{d=null})),V())},i(t){a||(J(r.$$.fragment,t),J(l),J(f),J(d),a=!0)},o(t){Z(r.$$.fragment,t),Z(l),Z(f),Z(d),a=!1},d(t){t&&w(e),rt(r),l&&l.d(),f&&f.d(),d&&d.d()}}}function Qo(t,e,n){let r,o;const i=Sn((t=>t.document));l(t,i,(t=>n(0,r=t)));const s=Sn(Hr());return l(t,s,(t=>n(1,o=t))),[r,o,i,s]}const Go=class extends it{constructor(t){super(),ot(this,t,Qo,Ko,s,{})}};function Vo(t){let e;const n=t[2].default,r=f(n,t,t[1],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[o]){r&&r.p&&(!e||2&o)&&p(r,n,t,t[1],e?h(n,t[1],o,null):m(t[1]),null)},i(t){e||(J(r,t),e=!0)},o(t){Z(r,t),e=!1},d(t){r&&r.d(t)}}}function Jo(t,e,n){let{$$slots:r={},$$scope:o}=e,{store:i}=e;return function(t,e){C().$$.context.set("root-store-context",e)}(0,i),t.$$set=t=>{"store"in t&&n(0,i=t.store),"$$scope"in t&&n(1,o=t.$$scope)},[i,o,r]}const Zo=class extends it{constructor(t){super(),ot(this,t,Jo,Vo,s,{store:0})}},ti=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Ie);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Oe):r.push(Oe.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,s=r.middleware,c=void 0===s?n():s,u=r.devTools,a=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:ye.INIT}))throw new Error(pe(12));if(void 0===n(void 0,{type:ye.PROBE_UNKNOWN_ACTION()}))throw new Error(pe(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},c=0;c<s.length;c++){var u=s[c],a=n[u],l=t[u],f=a(l,e);if(void 0===f)throw e&&e.type,new Error(pe(14));o[u]=f,r=r||f!==l}return(r=r||s.length!==Object.keys(t).length)?o:t}}(i)}var p=c;"function"==typeof p&&(p=p(n));var m=xe.apply(void 0,p),b=we;a&&(b=Ce(Ne({trace:!1},"object"==typeof a&&a)));var y=[m];return Array.isArray(h)?y=Ee([m],h):"function"==typeof h&&(y=h(y)),ge(e,f,b.apply(void 0,y))}({reducer:{document:qe.reducer,objects:In.reducer,scale:Hn.reducer,currentQueueIndex:Bn.reducer,selectedObjects:Yr.reducer},middleware:[]});function ei(t){let e,n;return e=new Go({}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function ni(t){let e,n;return e=new Zo({props:{store:ti,$$slots:{default:[ei]},$$scope:{ctx:t}}}),{c(){et(e.$$.fragment)},m(t,r){nt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){rt(e,t)}}}function ri(t,e){return void 0===e&&(e=0),br((function(n,r){n.subscribe(new yr(r,(function(n){return qr(r,t,(function(){return r.next(n)}),e)}),(function(){return qr(r,t,(function(){return r.complete()}),e)}),(function(n){return qr(r,t,(function(){return r.error(n)}),e)})))}))}function oi(t,e){return void 0===e&&(e=0),br((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function ii(t,e){if(!t)throw new Error("Iterable cannot be null");return new On((function(n){qr(n,e,(function(){var r=t[Symbol.asyncIterator]();qr(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function si(t,e){return e?function(t,e){if(null!=t){if(kr(t))return function(t,e){return Tr(t).pipe(oi(e),ri(e))}(t,e);if(xr(t))return function(t,e){return new On((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if($r(t))return function(t,e){return Tr(t).pipe(oi(e),ri(e))}(t,e);if(Or(t))return ii(t,e);if(_r(t))return function(t,e){return new On((function(n){var r;return qr(n,e,(function(){r=t[Er](),qr(n,e,(function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){return void n.error(t)}o?n.complete():n.next(e)}),0,!0)})),function(){return Ye(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(Pr(t))return function(t,e){return ii(Sr(t),e)}(t,e)}throw jr(t)}(t,e):Tr(t)}const ci=new class{constructor(){this.requestInterceptors=[],this.responseInterceptors=[]}setBaseUrl(t){return this.baseUrl=t,this}setDefaultHeader(t){return this.defaultHeader=t,this}addRequestInterceptor(t){return this.requestInterceptors.push(t),this}addResponseInterceptor(t){return this.responseInterceptors.push(t),this}fetch(t,e){return this.baseUrl&&(t=`${this.baseUrl}${t}`),e||(e={}),this.defaultHeader&&(e.headers=Object.assign({},this.defaultHeader,e.headers)),this.requestInterceptors.forEach((n=>n(t,e))),si(fetch(t,e)).pipe(Cr((t=>{if(t.status<200||t.status>299)throw t;this.responseInterceptors.forEach((e=>e(t)))})),(n=t=>{const e=t.headers.get("content-type");return e&&-1!==e.indexOf("application/json")?si(t.json()):si(t.text())},br((function(t,e){var r=null,o=!1,i=function(){return o&&!r&&e.complete()};t.subscribe(new yr(e,(function(t){null==r||r.unsubscribe();0;Tr(n(t)).subscribe(r=new yr(e,(function(t){return e.next(t)}),(function(){r=null,i()})))}),(function(){o=!0,i()})))}))),ao(1));var n}};ci.setBaseUrl("https://slide.preandero.com"),ci.setDefaultHeader({"Content-Type":"application/json"}),ci.addResponseInterceptor((t=>{401===t.status&&console.log("Unauthorized Reqeust, Please Redirect to login page")})),new class extends it{constructor(t){super(),ot(this,t,null,ni,s,{})}}({target:document.body})})();